<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Control.Monad.IO.Unlift</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Control.Monad.IO.Unlift.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">unliftio-core-0.1.0.0: The MonadUnliftIO typeclass for unlifting monads to IO</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Control.Monad.IO.Unlift</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Please see the README.md file for information on using this
 package.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">class</span> <a href="Control-Monad-IO-Unlift.html#t:MonadIO">MonadIO</a> m =&gt; <a href="#t:MonadUnliftIO">MonadUnliftIO</a> m <span class="keyword">where</span><ul class="subs"></ul></li><li class="src short"><span class="keyword">newtype</span> <a href="#t:UnliftIO">UnliftIO</a> m = <a href="#v:UnliftIO">UnliftIO</a> {<ul class="subs"><li><a href="#v:unliftIO">unliftIO</a> :: <span class="keyword">forall</span> a. m a -&gt; <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> a</li></ul>}</li><li class="src short"><a href="#v:askRunInIO">askRunInIO</a> :: <a href="Control-Monad-IO-Unlift.html#t:MonadUnliftIO">MonadUnliftIO</a> m =&gt; m (m a -&gt; <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> a)</li><li class="src short"><a href="#v:withUnliftIO">withUnliftIO</a> :: <a href="Control-Monad-IO-Unlift.html#t:MonadUnliftIO">MonadUnliftIO</a> m =&gt; (<a href="Control-Monad-IO-Unlift.html#t:UnliftIO">UnliftIO</a> m -&gt; <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> a) -&gt; m a</li><li class="src short"><a href="#v:withRunInIO">withRunInIO</a> :: <a href="Control-Monad-IO-Unlift.html#t:MonadUnliftIO">MonadUnliftIO</a> m =&gt; ((m a -&gt; <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> a) -&gt; <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> b) -&gt; m b</li><li class="src short"><a href="#v:toIO">toIO</a> :: <a href="Control-Monad-IO-Unlift.html#t:MonadUnliftIO">MonadUnliftIO</a> m =&gt; m a -&gt; m (<a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> a)</li><li class="src short"><span class="keyword">class</span> <a href="../base-4.10.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="#t:MonadIO">MonadIO</a> (m :: <a href="../base-4.10.1.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.10.1.0/Data-Kind.html#t:-42-">*</a>) <span class="keyword">where</span><ul class="subs"></ul></li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">class</span> <a href="Control-Monad-IO-Unlift.html#t:MonadIO">MonadIO</a> m =&gt; <a id="t:MonadUnliftIO" class="def">MonadUnliftIO</a> m <span class="keyword">where</span> <a href="src/Control.Monad.IO.Unlift.html#MonadUnliftIO" class="link">Source</a> <a href="#t:MonadUnliftIO" class="selflink">#</a></p><div class="doc"><p>Monads which allow their actions to be run in <code><a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a></code>.</p><p>While <code><a href="Control-Monad-IO-Unlift.html#t:MonadIO">MonadIO</a></code> allows an <code><a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a></code> action to be lifted into another
 monad, this class captures the opposite concept: allowing you to
 capture the monadic context. Note that, in order to meet the laws
 given below, the intuition is that a monad must have no monadic
 state, but may have monadic context. This essentially limits
 <code><a href="Control-Monad-IO-Unlift.html#t:MonadUnliftIO">MonadUnliftIO</a></code> to <code><a href="../transformers-0.5.2.0/Control-Monad-Trans-Reader.html#t:ReaderT">ReaderT</a></code> and <code><a href="../transformers-0.5.2.0/Control-Monad-Trans-Identity.html#t:IdentityT">IdentityT</a></code> transformers on top of
 <code><a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a></code>.</p><p>Laws. For any value <code>u</code> returned by <code><a href="Control-Monad-IO-Unlift.html#v:askUnliftIO">askUnliftIO</a></code>, it must meet the
 monad transformer laws as reformulated for <code>MonadUnliftIO</code>:</p><ul><li><pre>unliftIO u . return = return</pre></li><li><pre>unliftIO u (m &gt;&gt;= f) = unliftIO u m &gt;&gt;= unliftIO u . f</pre></li></ul><p>The third is a currently nameless law which ensures that the
 current context is preserved.</p><ul><li><pre>askUnliftIO &gt;&gt;= (u -&gt; liftIO (unliftIO u m)) = m</pre></li></ul><p>If you have a name for this, please submit it in a pull request for
 great glory.</p><p><em>Since: 0.1.0.0</em></p></div><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src"><a href="Control-Monad-IO-Unlift.html#v:askUnliftIO">askUnliftIO</a></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:askUnliftIO" class="def">askUnliftIO</a> :: m (<a href="Control-Monad-IO-Unlift.html#t:UnliftIO">UnliftIO</a> m) <a href="src/Control.Monad.IO.Unlift.html#askUnliftIO" class="link">Source</a> <a href="#v:askUnliftIO" class="selflink">#</a></p><div class="doc"><p>Capture the current monadic context, providing the ability to
 run monadic actions in <code><a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a></code>.</p><p>See <code><a href="Control-Monad-IO-Unlift.html#t:UnliftIO">UnliftIO</a></code> for an explanation of why we need a helper
 datatype here.
 @since 0.1.0.0</p></div></div><div class="subs instances"><p id="control.i:MonadUnliftIO" class="caption collapser" onclick="toggleSection('i:MonadUnliftIO')">Instances</p><div id="section.i:MonadUnliftIO" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:MonadUnliftIO:MonadUnliftIO:1" class="instance expander" onclick="toggleSection('i:ic:MonadUnliftIO:MonadUnliftIO:1')"></span> <a href="Control-Monad-IO-Unlift.html#t:MonadUnliftIO">MonadUnliftIO</a> <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a></span> <a href="src/Control.Monad.IO.Unlift.html#line-64" class="link">Source</a> <a href="#t:MonadUnliftIO" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:MonadUnliftIO:MonadUnliftIO:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:askUnliftIO">askUnliftIO</a> :: <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> (<a href="Control-Monad-IO-Unlift.html#t:UnliftIO">UnliftIO</a> <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a>) <a href="src/Control.Monad.IO.Unlift.html#askUnliftIO" class="link">Source</a> <a href="#v:askUnliftIO" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:MonadUnliftIO:MonadUnliftIO:2" class="instance expander" onclick="toggleSection('i:ic:MonadUnliftIO:MonadUnliftIO:2')"></span> <a href="Control-Monad-IO-Unlift.html#t:MonadUnliftIO">MonadUnliftIO</a> m =&gt; <a href="Control-Monad-IO-Unlift.html#t:MonadUnliftIO">MonadUnliftIO</a> (<a href="../transformers-0.5.2.0/Control-Monad-Trans-Identity.html#t:IdentityT">IdentityT</a> <a href="../base-4.10.1.0/Data-Kind.html#t:-42-">*</a> m)</span> <a href="src/Control.Monad.IO.Unlift.html#line-70" class="link">Source</a> <a href="#t:MonadUnliftIO" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:MonadUnliftIO:MonadUnliftIO:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:askUnliftIO">askUnliftIO</a> :: <a href="../transformers-0.5.2.0/Control-Monad-Trans-Identity.html#t:IdentityT">IdentityT</a> <a href="../base-4.10.1.0/Data-Kind.html#t:-42-">*</a> m (<a href="Control-Monad-IO-Unlift.html#t:UnliftIO">UnliftIO</a> (<a href="../transformers-0.5.2.0/Control-Monad-Trans-Identity.html#t:IdentityT">IdentityT</a> <a href="../base-4.10.1.0/Data-Kind.html#t:-42-">*</a> m)) <a href="src/Control.Monad.IO.Unlift.html#askUnliftIO" class="link">Source</a> <a href="#v:askUnliftIO" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:MonadUnliftIO:MonadUnliftIO:3" class="instance expander" onclick="toggleSection('i:ic:MonadUnliftIO:MonadUnliftIO:3')"></span> <a href="Control-Monad-IO-Unlift.html#t:MonadUnliftIO">MonadUnliftIO</a> m =&gt; <a href="Control-Monad-IO-Unlift.html#t:MonadUnliftIO">MonadUnliftIO</a> (<a href="../transformers-0.5.2.0/Control-Monad-Trans-Reader.html#t:ReaderT">ReaderT</a> <a href="../base-4.10.1.0/Data-Kind.html#t:-42-">*</a> r m)</span> <a href="src/Control.Monad.IO.Unlift.html#line-66" class="link">Source</a> <a href="#t:MonadUnliftIO" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:MonadUnliftIO:MonadUnliftIO:3" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:askUnliftIO">askUnliftIO</a> :: <a href="../transformers-0.5.2.0/Control-Monad-Trans-Reader.html#t:ReaderT">ReaderT</a> <a href="../base-4.10.1.0/Data-Kind.html#t:-42-">*</a> r m (<a href="Control-Monad-IO-Unlift.html#t:UnliftIO">UnliftIO</a> (<a href="../transformers-0.5.2.0/Control-Monad-Trans-Reader.html#t:ReaderT">ReaderT</a> <a href="../base-4.10.1.0/Data-Kind.html#t:-42-">*</a> r m)) <a href="src/Control.Monad.IO.Unlift.html#askUnliftIO" class="link">Source</a> <a href="#v:askUnliftIO" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:UnliftIO" class="def">UnliftIO</a> m <a href="src/Control.Monad.IO.Unlift.html#UnliftIO" class="link">Source</a> <a href="#t:UnliftIO" class="selflink">#</a></p><div class="doc"><p>The ability to run any monadic action <code>m a</code> as <code>IO a</code>.</p><p>This is more precisely a natural transformation. We need to new
 datatype (instead of simply using a <code>forall</code>) due to lack of
 support in GHC for impredicative types.</p><p><em>Since: 0.1.0.0</em></p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:UnliftIO" class="def">UnliftIO</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:unliftIO" class="def">unliftIO</a> :: <span class="keyword">forall</span> a. m a -&gt; <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> a</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><a id="v:askRunInIO" class="def">askRunInIO</a> :: <a href="Control-Monad-IO-Unlift.html#t:MonadUnliftIO">MonadUnliftIO</a> m =&gt; m (m a -&gt; <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> a) <a href="src/Control.Monad.IO.Unlift.html#askRunInIO" class="link">Source</a> <a href="#v:askRunInIO" class="selflink">#</a></p><div class="doc"><p>Same ask <code><a href="Control-Monad-IO-Unlift.html#v:askUnliftIO">askUnliftIO</a></code>, but returns a monomorphic function
 instead of a polymorphic newtype wrapper. If you only need to apply
 the transformation on one concrete type, this function can be more
 convenient.</p><p><em>Since: 0.1.0.0</em></p></div></div><div class="top"><p class="src"><a id="v:withUnliftIO" class="def">withUnliftIO</a> :: <a href="Control-Monad-IO-Unlift.html#t:MonadUnliftIO">MonadUnliftIO</a> m =&gt; (<a href="Control-Monad-IO-Unlift.html#t:UnliftIO">UnliftIO</a> m -&gt; <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> a) -&gt; m a <a href="src/Control.Monad.IO.Unlift.html#withUnliftIO" class="link">Source</a> <a href="#v:withUnliftIO" class="selflink">#</a></p><div class="doc"><p>Convenience function for capturing the monadic context and running
 an <code><a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a></code> action.</p><p><em>Since: 0.1.0.0</em></p></div></div><div class="top"><p class="src"><a id="v:withRunInIO" class="def">withRunInIO</a> :: <a href="Control-Monad-IO-Unlift.html#t:MonadUnliftIO">MonadUnliftIO</a> m =&gt; ((m a -&gt; <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> a) -&gt; <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> b) -&gt; m b <a href="src/Control.Monad.IO.Unlift.html#withRunInIO" class="link">Source</a> <a href="#v:withRunInIO" class="selflink">#</a></p><div class="doc"><p>Same as <code><a href="Control-Monad-IO-Unlift.html#v:withUnliftIO">withUnliftIO</a></code>, but uses a monomorphic function like
 <code><a href="Control-Monad-IO-Unlift.html#v:askRunInIO">askRunInIO</a></code>.</p><p><em>Since: 0.1.0.0</em></p></div></div><div class="top"><p class="src"><a id="v:toIO" class="def">toIO</a> :: <a href="Control-Monad-IO-Unlift.html#t:MonadUnliftIO">MonadUnliftIO</a> m =&gt; m a -&gt; m (<a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> a) <a href="src/Control.Monad.IO.Unlift.html#toIO" class="link">Source</a> <a href="#v:toIO" class="selflink">#</a></p><div class="doc"><p>Convert an action in <code>m</code> to an action in <code>IO</code>.</p><p><em>Since: 0.1.0.0</em></p></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="../base-4.10.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a id="t:MonadIO" class="def">MonadIO</a> (m :: <a href="../base-4.10.1.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.10.1.0/Data-Kind.html#t:-42-">*</a>) <span class="keyword">where</span> <a href="#t:MonadIO" class="selflink">#</a></p><div class="doc"><p>Monads in which <code><a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a></code> computations may be embedded.
 Any monad built by applying a sequence of monad transformers to the
 <code><a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a></code> monad will be an instance of this class.</p><p>Instances should satisfy the following laws, which state that <code><a href="Control-Monad-IO-Unlift.html#v:liftIO">liftIO</a></code>
 is a transformer of monads:</p><ul><li><pre><code><a href="Control-Monad-IO-Unlift.html#v:liftIO">liftIO</a></code> . <code><a href="../base-4.10.1.0/Control-Monad.html#v:return">return</a></code> = <code><a href="../base-4.10.1.0/Control-Monad.html#v:return">return</a></code></pre></li><li><pre><code><a href="Control-Monad-IO-Unlift.html#v:liftIO">liftIO</a></code> (m &gt;&gt;= f) = <code><a href="Control-Monad-IO-Unlift.html#v:liftIO">liftIO</a></code> m &gt;&gt;= (<code><a href="Control-Monad-IO-Unlift.html#v:liftIO">liftIO</a></code> . f)</pre></li></ul></div><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src"><a href="Control-Monad-IO-Unlift.html#v:liftIO">liftIO</a></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:liftIO" class="def">liftIO</a> :: <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> a -&gt; m a <a href="#v:liftIO" class="selflink">#</a></p><div class="doc"><p>Lift a computation from the <code><a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a></code> monad.</p></div></div><div class="subs instances"><p id="control.i:MonadIO" class="caption collapser" onclick="toggleSection('i:MonadIO')">Instances</p><div id="section.i:MonadIO" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:MonadIO:MonadIO:1" class="instance expander" onclick="toggleSection('i:ic:MonadIO:MonadIO:1')"></span> <a href="Control-Monad-IO-Unlift.html#t:MonadIO">MonadIO</a> <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a></span></td><td class="doc"><p><em>Since: 4.9.0.0</em></p></td></tr><tr><td colspan="2"><div id="section.i:ic:MonadIO:MonadIO:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftIO">liftIO</a> :: <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> a -&gt; <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> a <a href="#v:liftIO" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:MonadIO:MonadIO:2" class="instance expander" onclick="toggleSection('i:ic:MonadIO:MonadIO:2')"></span> <a href="Control-Monad-IO-Unlift.html#t:MonadIO">MonadIO</a> m =&gt; <a href="Control-Monad-IO-Unlift.html#t:MonadIO">MonadIO</a> (<a href="../transformers-0.5.2.0/Control-Monad-Trans-Identity.html#t:IdentityT">IdentityT</a> <a href="../base-4.10.1.0/Data-Kind.html#t:-42-">*</a> m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:MonadIO:MonadIO:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftIO">liftIO</a> :: <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> a -&gt; <a href="../transformers-0.5.2.0/Control-Monad-Trans-Identity.html#t:IdentityT">IdentityT</a> <a href="../base-4.10.1.0/Data-Kind.html#t:-42-">*</a> m a <a href="#v:liftIO" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:MonadIO:MonadIO:3" class="instance expander" onclick="toggleSection('i:ic:MonadIO:MonadIO:3')"></span> <a href="Control-Monad-IO-Unlift.html#t:MonadIO">MonadIO</a> m =&gt; <a href="Control-Monad-IO-Unlift.html#t:MonadIO">MonadIO</a> (<a href="../transformers-0.5.2.0/Control-Monad-Trans-Reader.html#t:ReaderT">ReaderT</a> <a href="../base-4.10.1.0/Data-Kind.html#t:-42-">*</a> r m)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:MonadIO:MonadIO:3" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftIO">liftIO</a> :: <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> a -&gt; <a href="../transformers-0.5.2.0/Control-Monad-Trans-Reader.html#t:ReaderT">ReaderT</a> <a href="../base-4.10.1.0/Data-Kind.html#t:-42-">*</a> r m a <a href="#v:liftIO" class="selflink">#</a></p></div></div></td></tr></table></div></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.18.1</p></div></body></html>