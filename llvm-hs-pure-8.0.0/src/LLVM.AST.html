<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE OverloadedStrings #-}</span><span>
</span><a name="line-2"></a><span class="hs-comment">-- | This module and descendants define AST data types to represent LLVM code.</span><span>
</span><a name="line-3"></a><span class="hs-comment">-- Note that these types are designed for fidelity rather than convenience - if the truth</span><span>
</span><a name="line-4"></a><span class="hs-comment">-- of what LLVM supports is less than pretty, so be it.</span><span>
</span><a name="line-5"></a><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">LLVM.AST</span><span> </span><span class="hs-special">(</span><span>
</span><a name="line-6"></a><span>  </span><a href="LLVM.AST.html#Module"><span class="hs-identifier hs-type">Module</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="LLVM.AST.html#defaultModule"><span class="hs-identifier hs-var">defaultModule</span></a><span class="hs-special">,</span><span>
</span><a name="line-7"></a><span>  </span><a href="LLVM.AST.html#Definition"><span class="hs-identifier hs-type">Definition</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-8"></a><span>  </span><a href="LLVM.AST.Global.html#Global"><span class="hs-identifier hs-type">Global</span></a><span class="hs-special">(</span><a href="LLVM.AST.Global.html#GlobalVariable"><span class="hs-identifier hs-var">GlobalVariable</span></a><span class="hs-special">,</span><span> </span><a href="LLVM.AST.Global.html#GlobalAlias"><span class="hs-identifier hs-var">GlobalAlias</span></a><span class="hs-special">,</span><span> </span><a href="LLVM.AST.Global.html#Function"><span class="hs-identifier hs-var">Function</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-9"></a><span>        </span><a href="LLVM.AST.Global.html#globalVariableDefaults"><span class="hs-identifier hs-var">globalVariableDefaults</span></a><span class="hs-special">,</span><span>
</span><a name="line-10"></a><span>        </span><a href="LLVM.AST.Global.html#globalAliasDefaults"><span class="hs-identifier hs-var">globalAliasDefaults</span></a><span class="hs-special">,</span><span>
</span><a name="line-11"></a><span>        </span><a href="LLVM.AST.Global.html#functionDefaults"><span class="hs-identifier hs-var">functionDefaults</span></a><span class="hs-special">,</span><span>
</span><a name="line-12"></a><span>  </span><a href="LLVM.AST.Global.html#UnnamedAddr"><span class="hs-identifier hs-type">UnnamedAddr</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-13"></a><span>  </span><a href="LLVM.AST.Global.html#Parameter"><span class="hs-identifier hs-type">Parameter</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-14"></a><span>  </span><a href="LLVM.AST.Global.html#BasicBlock"><span class="hs-identifier hs-type">BasicBlock</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-15"></a><span>  </span><a href="LLVM.AST.Operand.html#Operand"><span class="hs-identifier hs-type">Operand</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-16"></a><span>  </span><a href="LLVM.AST.Operand.html#CallableOperand"><span class="hs-identifier hs-type">CallableOperand</span></a><span class="hs-special">,</span><span>
</span><a name="line-17"></a><span>  </span><a href="LLVM.AST.Operand.html#Metadata"><span class="hs-identifier hs-type">Metadata</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-18"></a><span>  </span><a href="LLVM.AST.Operand.html#MetadataNodeID"><span class="hs-identifier hs-type">MetadataNodeID</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-19"></a><span>  </span><a href="LLVM.AST.Operand.html#MDRef"><span class="hs-identifier hs-type">MDRef</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-20"></a><span>  </span><a href="LLVM.AST.Operand.html#MDNode"><span class="hs-identifier hs-type">MDNode</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-21"></a><span>  </span><span class="hs-keyword">module</span><span> </span><a href="LLVM.AST.Instruction.html"><span class="hs-identifier">LLVM.AST.Instruction</span></a><span class="hs-special">,</span><span>
</span><a name="line-22"></a><span>  </span><span class="hs-keyword">module</span><span> </span><a href="LLVM.AST.Name.html"><span class="hs-identifier">LLVM.AST.Name</span></a><span class="hs-special">,</span><span>
</span><a name="line-23"></a><span>  </span><span class="hs-keyword">module</span><span> </span><a href="LLVM.AST.Type.html"><span class="hs-identifier">LLVM.AST.Type</span></a><span>
</span><a name="line-24"></a><span>  </span><span class="hs-comment">-- * Overview</span><span>
</span><a name="line-25"></a><span>  </span><span class="hs-comment">-- $overview</span><span>
</span><a name="line-26"></a><span>
</span><a name="line-27"></a><span>  </span><span class="hs-comment">-- * Constructing the AST for an LLVM module</span><span>
</span><a name="line-28"></a><span>  </span><span class="hs-comment">-- $moduleconstruction</span><span>
</span><a name="line-29"></a><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-30"></a><span>
</span><a name="line-31"></a><span class="hs-keyword">import</span><span> </span><a href="LLVM.Prelude.html"><span class="hs-identifier">LLVM.Prelude</span></a><span>
</span><a name="line-32"></a><span>
</span><a name="line-33"></a><span class="hs-keyword">import</span><span> </span><a href="LLVM.AST.Name.html"><span class="hs-identifier">LLVM.AST.Name</span></a><span>
</span><a name="line-34"></a><span class="hs-keyword">import</span><span> </span><a href="LLVM.AST.Type.html"><span class="hs-identifier">LLVM.AST.Type</span></a><span> </span><span class="hs-special">(</span><a href="LLVM.AST.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="LLVM.AST.Type.html#FloatingPointType"><span class="hs-identifier hs-type">FloatingPointType</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-35"></a><span class="hs-keyword">import</span><span> </span><a href="LLVM.AST.Global.html"><span class="hs-identifier">LLVM.AST.Global</span></a><span>
</span><a name="line-36"></a><span class="hs-keyword">import</span><span> </span><a href="LLVM.AST.Operand.html"><span class="hs-identifier">LLVM.AST.Operand</span></a><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><a href="LLVM.AST.Operand.html#Module"><span class="hs-identifier hs-type">Module</span></a><span class="hs-special">)</span><span>
</span><a name="line-37"></a><span class="hs-keyword">import</span><span> </span><a href="LLVM.AST.Instruction.html"><span class="hs-identifier">LLVM.AST.Instruction</span></a><span>
</span><a name="line-38"></a><span class="hs-keyword">import</span><span> </span><a href="LLVM.AST.DataLayout.html"><span class="hs-identifier">LLVM.AST.DataLayout</span></a><span>
</span><a name="line-39"></a><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><a href="LLVM.AST.Attribute.html"><span class="hs-identifier">LLVM.AST.Attribute</span></a><span> </span><span class="hs-keyword">as</span><span> </span><span class="hs-identifier">A</span><span>
</span><a name="line-40"></a><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><a href="LLVM.AST.COMDAT.html"><span class="hs-identifier">LLVM.AST.COMDAT</span></a><span> </span><span class="hs-keyword">as</span><span> </span><span class="hs-identifier">COMDAT</span><span>
</span><a name="line-41"></a><span>
</span><a name="line-42"></a><span class="hs-comment">{- $overview

@llvm-hs-pure@ defines the Haskell AST for representing an LLVM
`Module`. For interacting with the LLVM C/C++ libraries and an
overview of the various libraries in the @llvm-hs@ ecosystem, take a
look at the docs in the @LLVM@ module in @llvm-hs@.

In addition to constructing the LLVM AST manually, there is also a
monadic IRBuilder interface in `LLVM.IRBuilder`. The IRBuilder will
take care of generating fresh names automatically and generally
reduces the verbosity of using the AST directly. Using
@RecursiveDo/mdo@, it is also capable of handling forward references
automatically.
-}</span><span>
</span><a name="line-56"></a><span>
</span><a name="line-57"></a><span class="hs-comment">-- | Any thing which can be at the top level of a 'Module'</span><span>
</span><a name="line-58"></a><span class="hs-keyword">data</span><span> </span><a name="Definition"><a href="LLVM.AST.html#Definition"><span class="hs-identifier">Definition</span></a></a><span>
</span><a name="line-59"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="GlobalDefinition"><a href="LLVM.AST.html#GlobalDefinition"><span class="hs-identifier">GlobalDefinition</span></a></a><span> </span><a href="LLVM.AST.Global.html#Global"><span class="hs-identifier hs-type">Global</span></a><span>
</span><a name="line-60"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="TypeDefinition"><a href="LLVM.AST.html#TypeDefinition"><span class="hs-identifier">TypeDefinition</span></a></a><span> </span><a href="LLVM.AST.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Maybe</span><span> </span><a href="LLVM.AST.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a><span class="hs-special">)</span><span>
</span><a name="line-61"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="MetadataNodeDefinition"><a href="LLVM.AST.html#MetadataNodeDefinition"><span class="hs-identifier">MetadataNodeDefinition</span></a></a><span> </span><a href="LLVM.AST.Operand.html#MetadataNodeID"><span class="hs-identifier hs-type">MetadataNodeID</span></a><span> </span><a href="LLVM.AST.Operand.html#MDNode"><span class="hs-identifier hs-type">MDNode</span></a><span>
</span><a name="line-62"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="NamedMetadataDefinition"><a href="LLVM.AST.html#NamedMetadataDefinition"><span class="hs-identifier">NamedMetadataDefinition</span></a></a><span> </span><span class="hs-identifier hs-type">ShortByteString</span><span> </span><span class="hs-special">[</span><a href="LLVM.AST.Operand.html#MetadataNodeID"><span class="hs-identifier hs-type">MetadataNodeID</span></a><span class="hs-special">]</span><span>
</span><a name="line-63"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="ModuleInlineAssembly"><a href="LLVM.AST.html#ModuleInlineAssembly"><span class="hs-identifier">ModuleInlineAssembly</span></a></a><span> </span><span class="hs-identifier hs-type">ByteString</span><span>
</span><a name="line-64"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="FunctionAttributes"><a href="LLVM.AST.html#FunctionAttributes"><span class="hs-identifier">FunctionAttributes</span></a></a><span> </span><a href="LLVM.AST.FunctionAttribute.html#GroupID"><span class="hs-identifier hs-type">A.GroupID</span></a><span> </span><span class="hs-special">[</span><a href="LLVM.AST.FunctionAttribute.html#FunctionAttribute"><span class="hs-identifier hs-type">A.FunctionAttribute</span></a><span class="hs-special">]</span><span>
</span><a name="line-65"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="COMDAT"><a href="LLVM.AST.html#COMDAT"><span class="hs-identifier">COMDAT</span></a></a><span> </span><span class="hs-identifier hs-type">ShortByteString</span><span> </span><a href="LLVM.AST.COMDAT.html#SelectionKind"><span class="hs-identifier hs-type">COMDAT.SelectionKind</span></a><span>
</span><a name="line-66"></a><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Eq</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Read</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Show</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Typeable</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Data</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Generic</span><span class="hs-special">)</span><span>
</span><a name="line-67"></a><span>
</span><a name="line-68"></a><span class="hs-comment">-- | &lt;http://llvm.org/docs/LangRef.html#module-structure&gt;</span><span>
</span><a name="line-69"></a><span class="hs-keyword">data</span><span> </span><a name="Module"><a href="LLVM.AST.html#Module"><span class="hs-identifier">Module</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-70"></a><span>  </span><a name="Module"><a href="LLVM.AST.html#Module"><span class="hs-identifier">Module</span></a></a><span> </span><span class="hs-special">{</span><span>
</span><a name="line-71"></a><span>    </span><a name="moduleName"><a href="LLVM.AST.html#moduleName"><span class="hs-identifier">moduleName</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">ShortByteString</span><span class="hs-special">,</span><span>
</span><a name="line-72"></a><span>    </span><a name="moduleSourceFileName"><a href="LLVM.AST.html#moduleSourceFileName"><span class="hs-identifier">moduleSourceFileName</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">ShortByteString</span><span class="hs-special">,</span><span>
</span><a name="line-73"></a><span>    </span><span class="hs-comment">-- | a 'DataLayout', if specified, must match that of the eventual code generator</span><span>
</span><a name="line-74"></a><span>    </span><a name="moduleDataLayout"><a href="LLVM.AST.html#moduleDataLayout"><span class="hs-identifier">moduleDataLayout</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Maybe</span><span> </span><a href="LLVM.AST.DataLayout.html#DataLayout"><span class="hs-identifier hs-type">DataLayout</span></a><span class="hs-special">,</span><span>
</span><a name="line-75"></a><span>    </span><a name="moduleTargetTriple"><a href="LLVM.AST.html#moduleTargetTriple"><span class="hs-identifier">moduleTargetTriple</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Maybe</span><span> </span><span class="hs-identifier hs-type">ShortByteString</span><span class="hs-special">,</span><span>
</span><a name="line-76"></a><span>    </span><a name="moduleDefinitions"><a href="LLVM.AST.html#moduleDefinitions"><span class="hs-identifier">moduleDefinitions</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="LLVM.AST.html#Definition"><span class="hs-identifier hs-type">Definition</span></a><span class="hs-special">]</span><span>
</span><a name="line-77"></a><span>  </span><span class="hs-special">}</span><span>
</span><a name="line-78"></a><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Eq</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Read</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Show</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Typeable</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Data</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Generic</span><span class="hs-special">)</span><span>
</span><a name="line-79"></a><span>
</span><a name="line-80"></a><span class="hs-comment">-- | helper for making 'Module's</span><span>
</span><a name="line-81"></a><span class="hs-identifier">defaultModule</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="LLVM.AST.html#Module"><span class="hs-identifier hs-type">Module</span></a><span>
</span><a name="line-82"></a><a name="defaultModule"><a href="LLVM.AST.html#defaultModule"><span class="hs-identifier">defaultModule</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-83"></a><span>  </span><a href="LLVM.AST.html#Module"><span class="hs-identifier hs-var">Module</span></a><span> </span><span class="hs-special">{</span><span>
</span><a name="line-84"></a><span>    </span><span class="hs-identifier">moduleName</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-string">&quot;&lt;string&gt;&quot;</span><span class="hs-special">,</span><span>
</span><a name="line-85"></a><span>    </span><span class="hs-identifier">moduleSourceFileName</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-string">&quot;&lt;string&gt;&quot;</span><span class="hs-special">,</span><span>
</span><a name="line-86"></a><span>    </span><span class="hs-identifier">moduleDataLayout</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">Nothing</span><span class="hs-special">,</span><span>
</span><a name="line-87"></a><span>    </span><span class="hs-identifier">moduleTargetTriple</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">Nothing</span><span class="hs-special">,</span><span>
</span><a name="line-88"></a><span>    </span><span class="hs-identifier">moduleDefinitions</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><a name="line-89"></a><span>  </span><span class="hs-special">}</span><span>
</span><a name="line-90"></a></pre></body></html>