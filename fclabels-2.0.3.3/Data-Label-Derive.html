<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Data.Label.Derive</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Data.Label.Derive.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">fclabels-2.0.3.3: First class accessor labels implemented as lenses.</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell98</td></tr></table><p class="caption">Data.Label.Derive</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Generate labels in scope.</a></li><li><a href="#g:2">Produce labels as expressions.</a></li><li><a href="#g:3">First class record labels.</a></li><li><a href="#g:4">Low level derivation functions.</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Template Haskell functions for automatically generating labels for algebraic
datatypes, newtypes and GADTs. There are two basic modes of label generation,
the <code><a href="Data-Label-Derive.html#v:mkLabels" title="Data.Label.Derive">mkLabels</a></code> family of functions create labels (and optionally type
signatures) in scope as top level funtions, the <code><a href="Data-Label-Derive.html#v:getLabel" title="Data.Label.Derive">getLabel</a></code> family of funtions
create labels as expressions that can be named and typed manually.</p><p>In the case of multi-constructor datatypes some fields might not always be
available and the derived labels will be partial. Partial labels are provided
with an additional type context that forces them to be only usable in the
<code><a href="Data-Label-Point.html#t:Partial" title="Data.Label.Point">Partial</a></code> or <code><a href="Data-Label-Point.html#t:Failing" title="Data.Label.Point">Failing</a></code> context.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:mkLabel">mkLabel</a> :: <a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Name" title="Language.Haskell.TH.Syntax">Name</a> -&gt; <a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Q" title="Language.Haskell.TH.Syntax">Q</a> [<a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Dec" title="Language.Haskell.TH.Syntax">Dec</a>]</li><li class="src short"><a href="#v:mkLabels">mkLabels</a> :: [<a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Name" title="Language.Haskell.TH.Syntax">Name</a>] -&gt; <a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Q" title="Language.Haskell.TH.Syntax">Q</a> [<a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Dec" title="Language.Haskell.TH.Syntax">Dec</a>]</li><li class="src short"><a href="#v:mkLabelsNamed">mkLabelsNamed</a> :: (<a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a>) -&gt; [<a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Name" title="Language.Haskell.TH.Syntax">Name</a>] -&gt; <a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Q" title="Language.Haskell.TH.Syntax">Q</a> [<a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Dec" title="Language.Haskell.TH.Syntax">Dec</a>]</li><li class="src short"><a href="#v:getLabel">getLabel</a> :: <a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Name" title="Language.Haskell.TH.Syntax">Name</a> -&gt; <a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Q" title="Language.Haskell.TH.Syntax">Q</a> <a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Exp" title="Language.Haskell.TH.Syntax">Exp</a></li><li class="src short"><a href="#v:fclabels">fclabels</a> :: <a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Q" title="Language.Haskell.TH.Syntax">Q</a> [<a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Dec" title="Language.Haskell.TH.Syntax">Dec</a>] -&gt; <a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Q" title="Language.Haskell.TH.Syntax">Q</a> [<a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Dec" title="Language.Haskell.TH.Syntax">Dec</a>]</li><li class="src short"><a href="#v:mkLabelsWith">mkLabelsWith</a> :: (<a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a>) -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; <a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Name" title="Language.Haskell.TH.Syntax">Name</a> -&gt; <a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Q" title="Language.Haskell.TH.Syntax">Q</a> [<a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Dec" title="Language.Haskell.TH.Syntax">Dec</a>]</li><li class="src short"><a href="#v:getLabelWith">getLabelWith</a> :: <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; <a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Name" title="Language.Haskell.TH.Syntax">Name</a> -&gt; <a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Q" title="Language.Haskell.TH.Syntax">Q</a> <a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Exp" title="Language.Haskell.TH.Syntax">Exp</a></li><li class="src short"><a href="#v:defaultNaming">defaultNaming</a> :: <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a></li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Generate labels in scope.</h1></a><div class="top"><p class="src"><a id="v:mkLabel" class="def">mkLabel</a> :: <a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Name" title="Language.Haskell.TH.Syntax">Name</a> -&gt; <a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Q" title="Language.Haskell.TH.Syntax">Q</a> [<a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Dec" title="Language.Haskell.TH.Syntax">Dec</a>] <a href="src/Data.Label.Derive.html#mkLabel" class="link">Source</a> <a href="#v:mkLabel" class="selflink">#</a></p><div class="doc"><p>Derive labels including type signatures for all the record selectors in a
 single datatype. The types will be polymorphic and can be used in an
 arbitrary context.</p></div></div><div class="top"><p class="src"><a id="v:mkLabels" class="def">mkLabels</a> :: [<a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Name" title="Language.Haskell.TH.Syntax">Name</a>] -&gt; <a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Q" title="Language.Haskell.TH.Syntax">Q</a> [<a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Dec" title="Language.Haskell.TH.Syntax">Dec</a>] <a href="src/Data.Label.Derive.html#mkLabels" class="link">Source</a> <a href="#v:mkLabels" class="selflink">#</a></p><div class="doc"><p>Derive labels including type signatures for all the record selectors for a
 collection of datatypes. The types will be polymorphic and can be used in an
 arbitrary context.</p></div></div><div class="top"><p class="src"><a id="v:mkLabelsNamed" class="def">mkLabelsNamed</a> :: (<a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a>) -&gt; [<a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Name" title="Language.Haskell.TH.Syntax">Name</a>] -&gt; <a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Q" title="Language.Haskell.TH.Syntax">Q</a> [<a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Dec" title="Language.Haskell.TH.Syntax">Dec</a>] <a href="src/Data.Label.Derive.html#mkLabelsNamed" class="link">Source</a> <a href="#v:mkLabelsNamed" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Data-Label-Derive.html#v:mkLabels" title="Data.Label.Derive">mkLabels</a></code>, but uses the specified function to produce custom names
 for the labels.</p><p>For instance, <code>(drop 1 . dropWhile (/='_'))</code> creates a label
 <code>val</code> from a record <code>Rec { rec_val :: X }</code>.</p></div></div><a href="#g:2" id="g:2"><h1>Produce labels as expressions.</h1></a><div class="top"><p class="src"><a id="v:getLabel" class="def">getLabel</a> :: <a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Name" title="Language.Haskell.TH.Syntax">Name</a> -&gt; <a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Q" title="Language.Haskell.TH.Syntax">Q</a> <a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Exp" title="Language.Haskell.TH.Syntax">Exp</a> <a href="src/Data.Label.Derive.html#getLabel" class="link">Source</a> <a href="#v:getLabel" class="selflink">#</a></p><div class="doc"><p>Derive unnamed labels as n-tuples that can be named manually. The types
 will be polymorphic and can be used in an arbitrary context.</p><p>Example:</p><pre>(left, right) = $(getLabel ''Either)</pre><p>The lenses can now also be typed manually:</p><pre>left  :: (Either a b -&gt; Either c b) :~&gt; (a -&gt; c)
right :: (Either a b -&gt; Either a c) :~&gt; (b -&gt; c)</pre><p>Note: Because of the abstract nature of the generated lenses and the top
 level pattern match, it might be required to use <code>NoMonomorphismRestriction</code>
 in some cases.</p></div></div><a href="#g:3" id="g:3"><h1>First class record labels.</h1></a><div class="top"><p class="src"><a id="v:fclabels" class="def">fclabels</a> :: <a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Q" title="Language.Haskell.TH.Syntax">Q</a> [<a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Dec" title="Language.Haskell.TH.Syntax">Dec</a>] -&gt; <a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Q" title="Language.Haskell.TH.Syntax">Q</a> [<a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Dec" title="Language.Haskell.TH.Syntax">Dec</a>] <a href="src/Data.Label.Derive.html#fclabels" class="link">Source</a> <a href="#v:fclabels" class="selflink">#</a></p><div class="doc"><p>Derive labels for all the record types in the supplied declaration. The
 record fields don't need an underscore prefix. Multiple data types /
 newtypes are allowed at once.</p><p>The advantage of this approach is that you don't need to explicitly hide the
 original record accessors from being exported and they won't show up in the
 derived <code><a href="../base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a></code> instance.</p><p>Example:</p><pre>fclabels [d|
  data Record = Record
    { int  :: Int
    , bool :: Bool
    } deriving Show
  |]</pre><pre>ghci&gt; modify int (+2) (Record 1 False)
Record 3 False</pre></div></div><a href="#g:4" id="g:4"><h1>Low level derivation functions.</h1></a><div class="top"><p class="src"><a id="v:mkLabelsWith" class="def">mkLabelsWith</a> <a href="src/Data.Label.Derive.html#mkLabelsWith" class="link">Source</a> <a href="#v:mkLabelsWith" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a>)</td><td class="doc"><p>Supply a function to perform custom label naming.</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></td><td class="doc"><p>Generate type signatures or not.</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></td><td class="doc"><p>Generate concrete type or abstract type. When
   true the signatures will be concrete and can only
   be used in the appropriate context. Total labels
   will use (<code>:-&gt;</code>) and partial labels will use
   either `Lens Partial` or `Lens Failing` dependent
   on the following flag:</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></td><td class="doc"><p>Use <code><a href="Data-Label-Point.html#t:ArrowFail" title="Data.Label.Point">ArrowFail</a></code> for failure instead of <code><a href="../base-4.12.0.0/Control-Arrow.html#t:ArrowZero" title="Control.Arrow">ArrowZero</a></code>.</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></td><td class="doc"><p>Generate inline pragma or not.</p></td></tr><tr><td class="src">-&gt; <a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Name" title="Language.Haskell.TH.Syntax">Name</a></td><td class="doc"><p>The type to derive labels for.</p></td></tr><tr><td class="src">-&gt; <a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Q" title="Language.Haskell.TH.Syntax">Q</a> [<a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Dec" title="Language.Haskell.TH.Syntax">Dec</a>]</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Low level standalone label derivation function.</p></div></div><div class="top"><p class="src"><a id="v:getLabelWith" class="def">getLabelWith</a> <a href="src/Data.Label.Derive.html#getLabelWith" class="link">Source</a> <a href="#v:getLabelWith" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></td><td class="doc"><p>Generate type signatures or not.</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></td><td class="doc"><p>Generate concrete type or abstract type. When true the
   signatures will be concrete and can only be used in the
   appropriate context. Total labels will use (<code>:-&gt;</code>) and partial
   labels will use either `Lens Partial` or `Lens Failing`
   dependent on the following flag:</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></td><td class="doc"><p>Use <code><a href="Data-Label-Point.html#t:ArrowFail" title="Data.Label.Point">ArrowFail</a></code> for failure instead of <code><a href="../base-4.12.0.0/Control-Arrow.html#t:ArrowZero" title="Control.Arrow">ArrowZero</a></code>.</p></td></tr><tr><td class="src">-&gt; <a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Name" title="Language.Haskell.TH.Syntax">Name</a></td><td class="doc"><p>The type to derive labels for.</p></td></tr><tr><td class="src">-&gt; <a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Q" title="Language.Haskell.TH.Syntax">Q</a> <a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Exp" title="Language.Haskell.TH.Syntax">Exp</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Low level label as expression derivation function.</p></div></div><div class="top"><p class="src"><a id="v:defaultNaming" class="def">defaultNaming</a> :: <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="src/Data.Label.Derive.html#defaultNaming" class="link">Source</a> <a href="#v:defaultNaming" class="selflink">#</a></p><div class="doc"><p>Default way of generating a label name from the Haskell record selector
 name. If the original selector starts with an underscore, remove it and make
 the next character lowercase. Otherwise, add <code>l</code>, and make the next
 character uppercase.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>