<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Data.Array.Accelerate.LLVM.CodeGen.Environment</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Data-Array-Accelerate-LLVM-CodeGen-Environment.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Data-Array-Accelerate-LLVM-CodeGen-Environment.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">accelerate-llvm-2.0.0.0: Accelerate backend generating LLVM</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Copyright</th><td>[2015..2016] Trevor L. McDonell</td></tr><tr><th>License</th><td>BSD3</td></tr><tr><th>Maintainer</th><td>Trevor L. McDonell &lt;tmcdonell@cse.unsw.edu.au&gt;</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Portability</th><td>non-portable (GHC extensions)</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Data.Array.Accelerate.LLVM.CodeGen.Environment</p></div><div id="description"><p class="caption">Description</p><div class="doc empty">&nbsp;</div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:Val">Val</a> env <span class="keyword">where</span><ul class="subs"><li><a href="#v:Empty">Empty</a> ::  <a href="Data-Array-Accelerate-LLVM-CodeGen-Environment.html#t:Val">Val</a> ()</li><li><a href="#v:Push">Push</a> ::  <a href="Data-Array-Accelerate-LLVM-CodeGen-Environment.html#t:Val">Val</a> env -&gt; <a href="Data-Array-Accelerate-LLVM-CodeGen-IR.html#t:IR">IR</a> t -&gt; <a href="Data-Array-Accelerate-LLVM-CodeGen-Environment.html#t:Val">Val</a> (env, t)</li></ul></li><li class="src short"><a href="#v:prj">prj</a> :: Idx env t -&gt; <a href="Data-Array-Accelerate-LLVM-CodeGen-Environment.html#t:Val">Val</a> env -&gt; <a href="Data-Array-Accelerate-LLVM-CodeGen-IR.html#t:IR">IR</a> t</li><li class="src short"><span class="keyword">type</span> <a href="#t:Gamma">Gamma</a> aenv = <a href="../containers-0.5.6.2/Data-IntMap-Strict.html#t:IntMap">IntMap</a> (<a href="LLVM-General-AST-Type-Name.html#t:Label">Label</a>, <a href="Data-Array-Accelerate-LLVM-CodeGen-Environment.html#t:Idx-39-">Idx'</a> aenv)</li><li class="src short"><span class="keyword">data</span> <a href="#t:Idx-39-">Idx'</a> aenv <span class="keyword">where</span><ul class="subs"><li><a href="#v:Idx-39-">Idx'</a> :: (<a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Shape">Shape</a> sh, <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Elt">Elt</a> e) =&gt; Idx aenv (<a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Array">Array</a> sh e) -&gt; <a href="Data-Array-Accelerate-LLVM-CodeGen-Environment.html#t:Idx-39-">Idx'</a> aenv</li></ul></li><li class="src short"><a href="#v:aprj">aprj</a> :: Idx aenv t -&gt; <a href="Data-Array-Accelerate-LLVM-CodeGen-Environment.html#t:Gamma">Gamma</a> aenv -&gt; <a href="LLVM-General-AST-Type-Name.html#t:Name">Name</a> t</li><li class="src short"><a href="#v:makeGamma">makeGamma</a> :: <a href="../containers-0.5.6.2/Data-IntMap-Strict.html#t:IntMap">IntMap</a> (<a href="Data-Array-Accelerate-LLVM-CodeGen-Environment.html#t:Idx-39-">Idx'</a> aenv) -&gt; <a href="Data-Array-Accelerate-LLVM-CodeGen-Environment.html#t:Gamma">Gamma</a> aenv</li><li class="src short"><a href="#v:freevar">freevar</a> :: (<a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Shape">Shape</a> sh, <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Elt">Elt</a> e) =&gt; Idx aenv (<a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Array">Array</a> sh e) -&gt; <a href="../containers-0.5.6.2/Data-IntMap-Strict.html#t:IntMap">IntMap</a> (<a href="Data-Array-Accelerate-LLVM-CodeGen-Environment.html#t:Idx-39-">Idx'</a> aenv)</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Val" class="def">Val</a> env <span class="keyword">where</span> <a href="src/Data-Array-Accelerate-LLVM-CodeGen-Environment.html#Val" class="link">Source</a></p><div class="doc"><p>An environment for local scalar expression bindings, encoded at the value
 level as a heterogenous snoc list, and on the type level as nested tuples.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Empty" class="def">Empty</a> ::  <a href="Data-Array-Accelerate-LLVM-CodeGen-Environment.html#t:Val">Val</a> ()</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Push" class="def">Push</a> ::  <a href="Data-Array-Accelerate-LLVM-CodeGen-Environment.html#t:Val">Val</a> env -&gt; <a href="Data-Array-Accelerate-LLVM-CodeGen-IR.html#t:IR">IR</a> t -&gt; <a href="Data-Array-Accelerate-LLVM-CodeGen-Environment.html#t:Val">Val</a> (env, t)</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a name="v:prj" class="def">prj</a> :: Idx env t -&gt; <a href="Data-Array-Accelerate-LLVM-CodeGen-Environment.html#t:Val">Val</a> env -&gt; <a href="Data-Array-Accelerate-LLVM-CodeGen-IR.html#t:IR">IR</a> t <a href="src/Data-Array-Accelerate-LLVM-CodeGen-Environment.html#prj" class="link">Source</a></p><div class="doc"><p>Projection of a value from the valuation environment using a de Bruijn
 index.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Gamma" class="def">Gamma</a> aenv = <a href="../containers-0.5.6.2/Data-IntMap-Strict.html#t:IntMap">IntMap</a> (<a href="LLVM-General-AST-Type-Name.html#t:Label">Label</a>, <a href="Data-Array-Accelerate-LLVM-CodeGen-Environment.html#t:Idx-39-">Idx'</a> aenv) <a href="src/Data-Array-Accelerate-LLVM-CodeGen-Environment.html#Gamma" class="link">Source</a></p><div class="doc"><p>A mapping between the environment index of a free array variable and the
 Name of that array to be used in the generated code.</p><p>This simply compresses the array indices into a continuous range, rather than
 directly using the integer equivalent of the de Bruijn index. Thus, the
 result is still sensitive to the order of let bindings, but not of any
 intermediate (unused) free array variables.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Idx-39-" class="def">Idx'</a> aenv <span class="keyword">where</span> <a href="src/Data-Array-Accelerate-LLVM-CodeGen-Environment.html#Idx%27" class="link">Source</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Idx-39-" class="def">Idx'</a> :: (<a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Shape">Shape</a> sh, <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Elt">Elt</a> e) =&gt; Idx aenv (<a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Array">Array</a> sh e) -&gt; <a href="Data-Array-Accelerate-LLVM-CodeGen-Environment.html#t:Idx-39-">Idx'</a> aenv</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a name="v:aprj" class="def">aprj</a> :: Idx aenv t -&gt; <a href="Data-Array-Accelerate-LLVM-CodeGen-Environment.html#t:Gamma">Gamma</a> aenv -&gt; <a href="LLVM-General-AST-Type-Name.html#t:Name">Name</a> t <a href="src/Data-Array-Accelerate-LLVM-CodeGen-Environment.html#aprj" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:makeGamma" class="def">makeGamma</a> :: <a href="../containers-0.5.6.2/Data-IntMap-Strict.html#t:IntMap">IntMap</a> (<a href="Data-Array-Accelerate-LLVM-CodeGen-Environment.html#t:Idx-39-">Idx'</a> aenv) -&gt; <a href="Data-Array-Accelerate-LLVM-CodeGen-Environment.html#t:Gamma">Gamma</a> aenv <a href="src/Data-Array-Accelerate-LLVM-CodeGen-Environment.html#makeGamma" class="link">Source</a></p><div class="doc"><p>Construct the array environment index, will be used by code generation to
 map free array variable indices to names in the generated code.</p></div></div><div class="top"><p class="src"><a name="v:freevar" class="def">freevar</a> :: (<a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Shape">Shape</a> sh, <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Elt">Elt</a> e) =&gt; Idx aenv (<a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Array">Array</a> sh e) -&gt; <a href="../containers-0.5.6.2/Data-IntMap-Strict.html#t:IntMap">IntMap</a> (<a href="Data-Array-Accelerate-LLVM-CodeGen-Environment.html#t:Idx-39-">Idx'</a> aenv) <a href="src/Data-Array-Accelerate-LLVM-CodeGen-Environment.html#freevar" class="link">Source</a></p><div class="doc"><p>A free variable</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.16.1</p></div></body></html>