<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Data.Array.Accelerate.CUDA.Foreign</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Data-Array-Accelerate-CUDA-Foreign.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Data-Array-Accelerate-CUDA-Foreign.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">accelerate-cuda-2.0.0.0: Accelerate backend for NVIDIA GPUs</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Copyright</th><td>[2013..2014] Manuel M T Chakravarty, Gabriele Keller, Trevor L. McDonell, Robert Clifton-Everest</td></tr><tr><th>License</th><td>BSD3</td></tr><tr><th>Maintainer</th><td>Robert Clifton-Everest &lt;robertce@cse.unsw.edu.au&gt;</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Portability</th><td>non-portable (GHC extensions)</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell98</td></tr></table><p class="caption">Data.Array.Accelerate.CUDA.Foreign</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Functions callable from foreign code</a></li><li><a href="#g:2">Exporting</a></li><li><a href="#g:3">Types</a></li><li><a href="#g:4">Backend representation</a></li><li><a href="#g:5">Manipulating arrays</a></li><li><a href="#g:6">Running IO actions in an Accelerate context</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc empty">&nbsp;</div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:accelerateCreate">accelerateCreate</a> :: Device -&gt; ForeignContext -&gt; <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> AccHandle</li><li class="src short"><a href="#v:accelerateDestroy">accelerateDestroy</a> :: AccHandle -&gt; <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:freeOutput">freeOutput</a> :: <a href="../base-4.8.2.0/Foreign-Ptr.html#t:Ptr">Ptr</a> <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:OutputArray">OutputArray</a> -&gt; <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:freeProgram">freeProgram</a> :: <a href="../base-4.8.2.0/Foreign-StablePtr.html#t:StablePtr">StablePtr</a> a -&gt; <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:exportAfun">exportAfun</a> :: <a href="../template-haskell-2.10.0.0/Language-Haskell-TH-Syntax.html#t:Name">Name</a> -&gt; <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; <a href="../template-haskell-2.10.0.0/Language-Haskell-TH-Syntax.html#t:Q">Q</a> [<a href="../template-haskell-2.10.0.0/Language-Haskell-TH-Syntax.html#t:Dec">Dec</a>]</li><li class="src short"><a href="#v:buildExported">buildExported</a> :: <span class="keyword">forall</span> a b. (<a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> a, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> b) =&gt; AccHandle -&gt; (<a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Acc">Acc</a> a -&gt; <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Acc">Acc</a> b) -&gt; <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> (<a href="../base-4.8.2.0/Foreign-StablePtr.html#t:StablePtr">StablePtr</a> Afun)</li><li class="src short"><span class="keyword">type</span> <a href="#t:InputArray">InputArray</a> = (<a href="Data-Array-Accelerate-CUDA-Foreign.html#t:ShapeBuffer">ShapeBuffer</a>, <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:DevicePtrBuffer">DevicePtrBuffer</a>)</li><li class="src short"><span class="keyword">type</span> <a href="#t:OutputArray">OutputArray</a> = (<a href="Data-Array-Accelerate-CUDA-Foreign.html#t:ShapeBuffer">ShapeBuffer</a>, <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:DevicePtrBuffer">DevicePtrBuffer</a>, <a href="../base-4.8.2.0/Foreign-StablePtr.html#t:StablePtr">StablePtr</a> EArray)</li><li class="src short"><span class="keyword">type</span> <a href="#t:ShapeBuffer">ShapeBuffer</a> = <a href="../base-4.8.2.0/Foreign-Ptr.html#t:Ptr">Ptr</a> <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:CInt">CInt</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:DevicePtrBuffer">DevicePtrBuffer</a> = <a href="../base-4.8.2.0/Foreign-Ptr.html#t:Ptr">Ptr</a> <a href="../base-4.8.2.0/Foreign-Ptr.html#t:WordPtr">WordPtr</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:CUDAForeignAcc">CUDAForeignAcc</a> f <span class="keyword">where</span><ul class="subs"><li><a href="#v:CUDAForeignAcc">CUDAForeignAcc</a> ::  <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; (<a href="Data-Array-Accelerate-CUDA-Foreign.html#t:Stream">Stream</a> -&gt; as -&gt; <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:CIO">CIO</a> bs) -&gt; <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:CUDAForeignAcc">CUDAForeignAcc</a> (as -&gt; bs)</li></ul></li><li class="src short"><a href="#v:canExecuteAcc">canExecuteAcc</a> :: <span class="keyword">forall</span> asm as bs. (Foreign asm, <a href="../base-4.8.2.0/Data-Typeable-Internal.html#t:Typeable">Typeable</a> as, <a href="../base-4.8.2.0/Data-Typeable-Internal.html#t:Typeable">Typeable</a> bs) =&gt; asm (as -&gt; bs) -&gt; <a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Data-Array-Accelerate-CUDA-Foreign.html#t:Stream">Stream</a> -&gt; as -&gt; <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:CIO">CIO</a> bs)</li><li class="src short"><span class="keyword">data</span> <a href="#t:CUDAForeignExp">CUDAForeignExp</a> f <span class="keyword">where</span><ul class="subs"><li><a href="#v:CUDAForeignExp">CUDAForeignExp</a> :: <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:IsScalar">IsScalar</a> y =&gt; [<a href="../base-4.8.2.0/Data-String.html#t:String">String</a>] -&gt; <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:CUDAForeignExp">CUDAForeignExp</a> (x -&gt; y)</li></ul></li><li class="src short"><a href="#v:canExecuteExp">canExecuteExp</a> :: <span class="keyword">forall</span> asm x y. (Foreign asm, <a href="../base-4.8.2.0/Data-Typeable-Internal.html#t:Typeable">Typeable</a> y, <a href="../base-4.8.2.0/Data-Typeable-Internal.html#t:Typeable">Typeable</a> x) =&gt; asm (x -&gt; y) -&gt; <a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> ([<a href="../base-4.8.2.0/Data-String.html#t:String">String</a>], <a href="../base-4.8.2.0/Data-String.html#t:String">String</a>)</li><li class="src short"><span class="keyword">type family</span> <a href="#t:DevicePtrs">DevicePtrs</a> e :: *</li><li class="src short"><a href="#v:withDevicePtrs">withDevicePtrs</a> :: <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Array">Array</a> sh e -&gt; <a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:Stream">Stream</a> -&gt; (<a href="Data-Array-Accelerate-CUDA-Foreign.html#t:DevicePtrs">DevicePtrs</a> (EltRepr e) -&gt; <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:CIO">CIO</a> b) -&gt; <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:CIO">CIO</a> b</li><li class="src short"><a href="#v:indexArray">indexArray</a> :: (<a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Shape">Shape</a> dim, <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Elt">Elt</a> e) =&gt; <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Array">Array</a> dim e -&gt; <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Int">Int</a> -&gt; <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:CIO">CIO</a> e</li><li class="src short"><a href="#v:useArray">useArray</a> :: (<a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Shape">Shape</a> dim, <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Elt">Elt</a> e) =&gt; <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Array">Array</a> dim e -&gt; <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:CIO">CIO</a> ()</li><li class="src short"><a href="#v:useArrayAsync">useArrayAsync</a> :: (<a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Shape">Shape</a> dim, <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Elt">Elt</a> e) =&gt; <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Array">Array</a> dim e -&gt; <a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:Stream">Stream</a> -&gt; <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:CIO">CIO</a> ()</li><li class="src short"><a href="#v:peekArray">peekArray</a> :: (<a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Shape">Shape</a> dim, <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Elt">Elt</a> e) =&gt; <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Array">Array</a> dim e -&gt; <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:CIO">CIO</a> ()</li><li class="src short"><a href="#v:peekArrayAsync">peekArrayAsync</a> :: (<a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Shape">Shape</a> dim, <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Elt">Elt</a> e) =&gt; <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Array">Array</a> dim e -&gt; <a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:Stream">Stream</a> -&gt; <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:CIO">CIO</a> ()</li><li class="src short"><a href="#v:pokeArray">pokeArray</a> :: (<a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Shape">Shape</a> dim, <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Elt">Elt</a> e) =&gt; <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Array">Array</a> dim e -&gt; <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:CIO">CIO</a> ()</li><li class="src short"><a href="#v:pokeArrayAsync">pokeArrayAsync</a> :: (<a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Shape">Shape</a> dim, <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Elt">Elt</a> e) =&gt; <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Array">Array</a> dim e -&gt; <a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:Stream">Stream</a> -&gt; <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:CIO">CIO</a> ()</li><li class="src short"><a href="#v:copyArray">copyArray</a> :: (<a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Shape">Shape</a> dim, <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Elt">Elt</a> e) =&gt; <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Array">Array</a> dim e -&gt; <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Array">Array</a> dim e -&gt; <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:CIO">CIO</a> ()</li><li class="src short"><a href="#v:copyArrayAsync">copyArrayAsync</a> :: (<a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Shape">Shape</a> dim, <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Elt">Elt</a> e) =&gt; <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Array">Array</a> dim e -&gt; <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Array">Array</a> dim e -&gt; <a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:Stream">Stream</a> -&gt; <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:CIO">CIO</a> ()</li><li class="src short"><a href="#v:allocateArray">allocateArray</a> :: (<a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Shape">Shape</a> dim, <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Elt">Elt</a> e) =&gt; dim -&gt; <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:CIO">CIO</a> (<a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Array">Array</a> dim e)</li><li class="src short"><a href="#v:newArray">newArray</a> :: (<a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Shape">Shape</a> sh, <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Elt">Elt</a> e) =&gt; sh -&gt; (sh -&gt; e) -&gt; <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:CIO">CIO</a> (<a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Array">Array</a> sh e)</li><li class="src short"><span class="keyword">data</span> <a href="#t:CIO">CIO</a> a</li><li class="src short"><span class="keyword">data</span> <a href="#t:Stream">Stream</a> :: *</li><li class="src short"><a href="#v:liftIO">liftIO</a> :: <a href="../transformers-0.4.2.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <span class="keyword">forall</span> a. <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> a -&gt; m a</li><li class="src short"><a href="#v:inContext">inContext</a> :: <a href="Data-Array-Accelerate-CUDA.html#t:Context">Context</a> -&gt; <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> a -&gt; <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> a</li><li class="src short"><a href="#v:inDefaultContext">inDefaultContext</a> :: <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> a -&gt; <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> a</li></ul></div><div id="interface"><h2 id="g:1">Functions callable from foreign code</h2><div class="top"><p class="src"><a name="v:accelerateCreate" class="def">accelerateCreate</a> :: Device -&gt; ForeignContext -&gt; <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> AccHandle <a href="src/Data-Array-Accelerate-CUDA-Foreign-Export.html#accelerateCreate" class="link">Source</a></p><div class="doc"><p>Create an Accelerate handle given a device and a cuda context.</p><pre>AccHandle accelerateCreate(int device, CUcontext ctx);</pre></div></div><div class="top"><p class="src"><a name="v:accelerateDestroy" class="def">accelerateDestroy</a> :: AccHandle -&gt; <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> () <a href="src/Data-Array-Accelerate-CUDA-Foreign-Export.html#accelerateDestroy" class="link">Source</a></p><div class="doc"><p>Releases all resources used by the accelerate library.</p><pre>void accelerateDestroy(AccHandle hndl);</pre></div></div><div class="top"><p class="src"><a name="v:freeOutput" class="def">freeOutput</a> :: <a href="../base-4.8.2.0/Foreign-Ptr.html#t:Ptr">Ptr</a> <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:OutputArray">OutputArray</a> -&gt; <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> () <a href="src/Data-Array-Accelerate-CUDA-Foreign-Export.html#freeOutput" class="link">Source</a></p><div class="doc"><p>Function callable from foreign code to <code><a href="../base-4.8.2.0/Foreign-Marshal-Alloc.html#v:free">free</a></code> a OutputArray returned after executing
 an Accelerate computation.</p><p>Once freed, the device pointers associated with an array are no longer valid.</p><pre>void freeOutput(OutputArray arr);</pre></div></div><div class="top"><p class="src"><a name="v:freeProgram" class="def">freeProgram</a> :: <a href="../base-4.8.2.0/Foreign-StablePtr.html#t:StablePtr">StablePtr</a> a -&gt; <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> () <a href="src/Data-Array-Accelerate-CUDA-Foreign-Export.html#freeProgram" class="link">Source</a></p><div class="doc"><p>Free a compiled accelerate program.</p><pre>void freeProgram(Program prg);</pre></div></div><h2 id="g:2">Exporting</h2><div class="top"><p class="src"><a name="v:exportAfun" class="def">exportAfun</a> :: <a href="../template-haskell-2.10.0.0/Language-Haskell-TH-Syntax.html#t:Name">Name</a> -&gt; <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; <a href="../template-haskell-2.10.0.0/Language-Haskell-TH-Syntax.html#t:Q">Q</a> [<a href="../template-haskell-2.10.0.0/Language-Haskell-TH-Syntax.html#t:Dec">Dec</a>] <a href="src/Data-Array-Accelerate-CUDA-Foreign-Export.html#exportAfun" class="link">Source</a></p><div class="doc"><p>Given the <code><a href="../template-haskell-2.10.0.0/Language-Haskell-TH-Syntax.html#t:Name">Name</a></code> of an Accelerate function (a function of type ''Acc a -&gt; Acc b'') generate a
 a function callable from foreign code with the second argument specifying it's name.</p></div></div><div class="top"><p class="src"><a name="v:buildExported" class="def">buildExported</a> :: <span class="keyword">forall</span> a b. (<a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> a, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> b) =&gt; AccHandle -&gt; (<a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Acc">Acc</a> a -&gt; <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Acc">Acc</a> b) -&gt; <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> (<a href="../base-4.8.2.0/Foreign-StablePtr.html#t:StablePtr">StablePtr</a> Afun) <a href="src/Data-Array-Accelerate-CUDA-Foreign-Export.html#buildExported" class="link">Source</a></p><div class="doc"><p>Given a handle and an Accelerate function, generate an exportable version.</p></div></div><h2 id="g:3">Types</h2><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:InputArray" class="def">InputArray</a> = (<a href="Data-Array-Accelerate-CUDA-Foreign.html#t:ShapeBuffer">ShapeBuffer</a>, <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:DevicePtrBuffer">DevicePtrBuffer</a>) <a href="src/Data-Array-Accelerate-CUDA-Foreign-Export.html#InputArray" class="link">Source</a></p><div class="doc"><p>The input required from foreign code.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:OutputArray" class="def">OutputArray</a> = (<a href="Data-Array-Accelerate-CUDA-Foreign.html#t:ShapeBuffer">ShapeBuffer</a>, <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:DevicePtrBuffer">DevicePtrBuffer</a>, <a href="../base-4.8.2.0/Foreign-StablePtr.html#t:StablePtr">StablePtr</a> EArray) <a href="src/Data-Array-Accelerate-CUDA-Foreign-Export.html#OutputArray" class="link">Source</a></p><div class="doc"><p>A result array from an accelerate program.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:ShapeBuffer" class="def">ShapeBuffer</a> = <a href="../base-4.8.2.0/Foreign-Ptr.html#t:Ptr">Ptr</a> <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:CInt">CInt</a> <a href="src/Data-Array-Accelerate-CUDA-Foreign-Export.html#ShapeBuffer" class="link">Source</a></p><div class="doc"><p>A foreign buffer that represents a shape as an array of ints.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:DevicePtrBuffer" class="def">DevicePtrBuffer</a> = <a href="../base-4.8.2.0/Foreign-Ptr.html#t:Ptr">Ptr</a> <a href="../base-4.8.2.0/Foreign-Ptr.html#t:WordPtr">WordPtr</a> <a href="src/Data-Array-Accelerate-CUDA-Foreign-Export.html#DevicePtrBuffer" class="link">Source</a></p><div class="doc"><p>A buffer of device pointers</p></div></div><h1 id="g:4">Backend representation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:CUDAForeignAcc" class="def">CUDAForeignAcc</a> f <span class="keyword">where</span> <a href="src/Data-Array-Accelerate-CUDA-Foreign-Import.html#CUDAForeignAcc" class="link">Source</a></p><div class="doc"><p>CUDA foreign Acc functions are just CIO functions.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:CUDAForeignAcc" class="def">CUDAForeignAcc</a> ::  <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; (<a href="Data-Array-Accelerate-CUDA-Foreign.html#t:Stream">Stream</a> -&gt; as -&gt; <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:CIO">CIO</a> bs) -&gt; <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:CUDAForeignAcc">CUDAForeignAcc</a> (as -&gt; bs)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:CUDAForeignAcc" class="caption collapser" onclick="toggleSection('i:CUDAForeignAcc')">Instances</p><div id="section.i:CUDAForeignAcc" class="show"><table><tr><td class="src clearfix"><span class="inst-left">Foreign <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:CUDAForeignAcc">CUDAForeignAcc</a></span> <a href="src/Data-Array-Accelerate-CUDA-Foreign-Import.html#line-87" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:canExecuteAcc" class="def">canExecuteAcc</a> :: <span class="keyword">forall</span> asm as bs. (Foreign asm, <a href="../base-4.8.2.0/Data-Typeable-Internal.html#t:Typeable">Typeable</a> as, <a href="../base-4.8.2.0/Data-Typeable-Internal.html#t:Typeable">Typeable</a> bs) =&gt; asm (as -&gt; bs) -&gt; <a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Data-Array-Accelerate-CUDA-Foreign.html#t:Stream">Stream</a> -&gt; as -&gt; <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:CIO">CIO</a> bs) <a href="src/Data-Array-Accelerate-CUDA-Foreign-Import.html#canExecuteAcc" class="link">Source</a></p><div class="doc"><p>Gives the executable form of a foreign function if it can be executed by the
 CUDA backend.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:CUDAForeignExp" class="def">CUDAForeignExp</a> f <span class="keyword">where</span> <a href="src/Data-Array-Accelerate-CUDA-Foreign-Import.html#CUDAForeignExp" class="link">Source</a></p><div class="doc"><p>CUDA foreign Exp functions consist of a list of C header files necessary to call the function
 and the name of the function to call.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:CUDAForeignExp" class="def">CUDAForeignExp</a> :: <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:IsScalar">IsScalar</a> y =&gt; [<a href="../base-4.8.2.0/Data-String.html#t:String">String</a>] -&gt; <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:CUDAForeignExp">CUDAForeignExp</a> (x -&gt; y)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:CUDAForeignExp" class="caption collapser" onclick="toggleSection('i:CUDAForeignExp')">Instances</p><div id="section.i:CUDAForeignExp" class="show"><table><tr><td class="src clearfix"><span class="inst-left">Foreign <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:CUDAForeignExp">CUDAForeignExp</a></span> <a href="src/Data-Array-Accelerate-CUDA-Foreign-Import.html#line-115" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:canExecuteExp" class="def">canExecuteExp</a> :: <span class="keyword">forall</span> asm x y. (Foreign asm, <a href="../base-4.8.2.0/Data-Typeable-Internal.html#t:Typeable">Typeable</a> y, <a href="../base-4.8.2.0/Data-Typeable-Internal.html#t:Typeable">Typeable</a> x) =&gt; asm (x -&gt; y) -&gt; <a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> ([<a href="../base-4.8.2.0/Data-String.html#t:String">String</a>], <a href="../base-4.8.2.0/Data-String.html#t:String">String</a>) <a href="src/Data-Array-Accelerate-CUDA-Foreign-Import.html#canExecuteExp" class="link">Source</a></p><div class="doc"><p>Gives the foreign function name as a string if it is a foreign Exp function
 for the CUDA backend.</p></div></div><h1 id="g:5">Manipulating arrays</h1><div class="top"><p class="src"><span class="keyword">type family</span> <a name="t:DevicePtrs" class="def">DevicePtrs</a> e :: * <a href="src/Data-Array-Accelerate-CUDA-Array-Prim.html#DevicePtrs" class="link">Source</a></p><div class="subs instances"><p id="control.i:DevicePtrs" class="caption collapser" onclick="toggleSection('i:DevicePtrs')">Instances</p><div id="section.i:DevicePtrs" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span class="keyword">type</span> <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:DevicePtrs">DevicePtrs</a> <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Bool">Bool</a> = <a href="../cuda-0.7.1.0/Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Word8">Word8</a></span> <a href="src/Data-Array-Accelerate-CUDA-Array-Prim.html#line-107" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="keyword">type</span> <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:DevicePtrs">DevicePtrs</a> <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Char">Char</a> = <a href="../cuda-0.7.1.0/Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Char">Char</a></span> <a href="src/Data-Array-Accelerate-CUDA-Array-Prim.html#line-102" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="keyword">type</span> <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:DevicePtrs">DevicePtrs</a> <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Double">Double</a> = <a href="../cuda-0.7.1.0/Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Double">Double</a></span> <a href="src/Data-Array-Accelerate-CUDA-Array-Prim.html#line-98" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="keyword">type</span> <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:DevicePtrs">DevicePtrs</a> <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Float">Float</a> = <a href="../cuda-0.7.1.0/Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Float">Float</a></span> <a href="src/Data-Array-Accelerate-CUDA-Array-Prim.html#line-97" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="keyword">type</span> <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:DevicePtrs">DevicePtrs</a> <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Int">Int</a> = <a href="../cuda-0.7.1.0/Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Int">Int</a></span> <a href="src/Data-Array-Accelerate-CUDA-Array-Prim.html#line-76" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="keyword">type</span> <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:DevicePtrs">DevicePtrs</a> <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Int8">Int8</a> = <a href="../cuda-0.7.1.0/Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Int8">Int8</a></span> <a href="src/Data-Array-Accelerate-CUDA-Array-Prim.html#line-77" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="keyword">type</span> <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:DevicePtrs">DevicePtrs</a> <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Int16">Int16</a> = <a href="../cuda-0.7.1.0/Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Int16">Int16</a></span> <a href="src/Data-Array-Accelerate-CUDA-Array-Prim.html#line-78" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="keyword">type</span> <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:DevicePtrs">DevicePtrs</a> <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Int32">Int32</a> = <a href="../cuda-0.7.1.0/Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Int32">Int32</a></span> <a href="src/Data-Array-Accelerate-CUDA-Array-Prim.html#line-79" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="keyword">type</span> <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:DevicePtrs">DevicePtrs</a> <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Int64">Int64</a> = <a href="../cuda-0.7.1.0/Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Int64">Int64</a></span> <a href="src/Data-Array-Accelerate-CUDA-Array-Prim.html#line-80" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="keyword">type</span> <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:DevicePtrs">DevicePtrs</a> <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Word">Word</a> = <a href="../cuda-0.7.1.0/Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Word">Word</a></span> <a href="src/Data-Array-Accelerate-CUDA-Array-Prim.html#line-82" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="keyword">type</span> <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:DevicePtrs">DevicePtrs</a> <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Word8">Word8</a> = <a href="../cuda-0.7.1.0/Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Word8">Word8</a></span> <a href="src/Data-Array-Accelerate-CUDA-Array-Prim.html#line-83" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="keyword">type</span> <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:DevicePtrs">DevicePtrs</a> <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Word16">Word16</a> = <a href="../cuda-0.7.1.0/Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Word16">Word16</a></span> <a href="src/Data-Array-Accelerate-CUDA-Array-Prim.html#line-84" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="keyword">type</span> <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:DevicePtrs">DevicePtrs</a> <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Word32">Word32</a> = <a href="../cuda-0.7.1.0/Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Word32">Word32</a></span> <a href="src/Data-Array-Accelerate-CUDA-Array-Prim.html#line-85" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="keyword">type</span> <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:DevicePtrs">DevicePtrs</a> <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Word64">Word64</a> = <a href="../cuda-0.7.1.0/Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Word64">Word64</a></span> <a href="src/Data-Array-Accelerate-CUDA-Array-Prim.html#line-86" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="keyword">type</span> <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:DevicePtrs">DevicePtrs</a> () = ()</span> <a href="src/Data-Array-Accelerate-CUDA-Array-Prim.html#line-67" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="keyword">type</span> <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:DevicePtrs">DevicePtrs</a> <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:CDouble">CDouble</a> = <a href="../cuda-0.7.1.0/Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Double">Double</a></span> <a href="src/Data-Array-Accelerate-CUDA-Array-Prim.html#line-100" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="keyword">type</span> <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:DevicePtrs">DevicePtrs</a> <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:CFloat">CFloat</a> = <a href="../cuda-0.7.1.0/Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Float">Float</a></span> <a href="src/Data-Array-Accelerate-CUDA-Array-Prim.html#line-99" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="keyword">type</span> <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:DevicePtrs">DevicePtrs</a> <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:CULLong">CULLong</a> = <a href="../cuda-0.7.1.0/Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Word64">Word64</a></span> <a href="src/Data-Array-Accelerate-CUDA-Array-Prim.html#line-95" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="keyword">type</span> <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:DevicePtrs">DevicePtrs</a> <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:CLLong">CLLong</a> = <a href="../cuda-0.7.1.0/Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Int64">Int64</a></span> <a href="src/Data-Array-Accelerate-CUDA-Array-Prim.html#line-91" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="keyword">type</span> <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:DevicePtrs">DevicePtrs</a> <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:CULong">CULong</a> = <a href="../cuda-0.7.1.0/Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> HTYPE_UNSIGNED_LONG</span> <a href="src/Data-Array-Accelerate-CUDA-Array-Prim.html#line-94" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="keyword">type</span> <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:DevicePtrs">DevicePtrs</a> <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:CLong">CLong</a> = <a href="../cuda-0.7.1.0/Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> HTYPE_LONG</span> <a href="src/Data-Array-Accelerate-CUDA-Array-Prim.html#line-90" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="keyword">type</span> <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:DevicePtrs">DevicePtrs</a> <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:CUInt">CUInt</a> = <a href="../cuda-0.7.1.0/Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Word32">Word32</a></span> <a href="src/Data-Array-Accelerate-CUDA-Array-Prim.html#line-93" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="keyword">type</span> <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:DevicePtrs">DevicePtrs</a> <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:CInt">CInt</a> = <a href="../cuda-0.7.1.0/Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Int32">Int32</a></span> <a href="src/Data-Array-Accelerate-CUDA-Array-Prim.html#line-89" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="keyword">type</span> <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:DevicePtrs">DevicePtrs</a> <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:CUShort">CUShort</a> = <a href="../cuda-0.7.1.0/Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Word16">Word16</a></span> <a href="src/Data-Array-Accelerate-CUDA-Array-Prim.html#line-92" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="keyword">type</span> <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:DevicePtrs">DevicePtrs</a> <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:CShort">CShort</a> = <a href="../cuda-0.7.1.0/Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Int16">Int16</a></span> <a href="src/Data-Array-Accelerate-CUDA-Array-Prim.html#line-88" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="keyword">type</span> <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:DevicePtrs">DevicePtrs</a> <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:CUChar">CUChar</a> = <a href="../cuda-0.7.1.0/Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Word8">Word8</a></span> <a href="src/Data-Array-Accelerate-CUDA-Array-Prim.html#line-105" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="keyword">type</span> <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:DevicePtrs">DevicePtrs</a> <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:CSChar">CSChar</a> = <a href="../cuda-0.7.1.0/Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Int8">Int8</a></span> <a href="src/Data-Array-Accelerate-CUDA-Array-Prim.html#line-104" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="keyword">type</span> <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:DevicePtrs">DevicePtrs</a> <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:CChar">CChar</a> = <a href="../cuda-0.7.1.0/Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> HTYPE_CCHAR</span> <a href="src/Data-Array-Accelerate-CUDA-Array-Prim.html#line-103" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="keyword">type</span> <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:DevicePtrs">DevicePtrs</a> (a, b) = (<a href="Data-Array-Accelerate-CUDA-Foreign.html#t:DevicePtrs">DevicePtrs</a> a, <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:DevicePtrs">DevicePtrs</a> b)</span> <a href="src/Data-Array-Accelerate-CUDA-Array-Prim.html#line-109" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:withDevicePtrs" class="def">withDevicePtrs</a> :: <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Array">Array</a> sh e -&gt; <a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:Stream">Stream</a> -&gt; (<a href="Data-Array-Accelerate-CUDA-Foreign.html#t:DevicePtrs">DevicePtrs</a> (EltRepr e) -&gt; <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:CIO">CIO</a> b) -&gt; <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:CIO">CIO</a> b <a href="src/Data-Array-Accelerate-CUDA-Foreign-Import.html#withDevicePtrs" class="link">Source</a></p><div class="doc"><p>Get the raw CUDA device pointers associated with an array and call the given
 continuation.</p></div></div><div class="top"><p class="src"><a name="v:indexArray" class="def">indexArray</a> :: (<a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Shape">Shape</a> dim, <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Elt">Elt</a> e) =&gt; <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Array">Array</a> dim e -&gt; <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Int">Int</a> -&gt; <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:CIO">CIO</a> e <a href="src/Data-Array-Accelerate-CUDA-Array-Data.html#indexArray" class="link">Source</a></p><div class="doc"><p>Read a single element from an array at the given row-major index. This is a
 synchronous operation.</p></div></div><div class="top"><p class="src"><a name="v:useArray" class="def">useArray</a> :: (<a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Shape">Shape</a> dim, <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Elt">Elt</a> e) =&gt; <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Array">Array</a> dim e -&gt; <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:CIO">CIO</a> () <a href="src/Data-Array-Accelerate-CUDA-Array-Data.html#useArray" class="link">Source</a></p><div class="doc"><p>Upload an existing array to the device</p></div></div><div class="top"><p class="src"><a name="v:useArrayAsync" class="def">useArrayAsync</a> :: (<a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Shape">Shape</a> dim, <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Elt">Elt</a> e) =&gt; <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Array">Array</a> dim e -&gt; <a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:Stream">Stream</a> -&gt; <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:CIO">CIO</a> () <a href="src/Data-Array-Accelerate-CUDA-Array-Data.html#useArrayAsync" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:peekArray" class="def">peekArray</a> :: (<a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Shape">Shape</a> dim, <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Elt">Elt</a> e) =&gt; <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Array">Array</a> dim e -&gt; <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:CIO">CIO</a> () <a href="src/Data-Array-Accelerate-CUDA-Array-Data.html#peekArray" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:peekArrayAsync" class="def">peekArrayAsync</a> :: (<a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Shape">Shape</a> dim, <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Elt">Elt</a> e) =&gt; <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Array">Array</a> dim e -&gt; <a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:Stream">Stream</a> -&gt; <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:CIO">CIO</a> () <a href="src/Data-Array-Accelerate-CUDA-Array-Data.html#peekArrayAsync" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:pokeArray" class="def">pokeArray</a> :: (<a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Shape">Shape</a> dim, <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Elt">Elt</a> e) =&gt; <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Array">Array</a> dim e -&gt; <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:CIO">CIO</a> () <a href="src/Data-Array-Accelerate-CUDA-Array-Data.html#pokeArray" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:pokeArrayAsync" class="def">pokeArrayAsync</a> :: (<a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Shape">Shape</a> dim, <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Elt">Elt</a> e) =&gt; <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Array">Array</a> dim e -&gt; <a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:Stream">Stream</a> -&gt; <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:CIO">CIO</a> () <a href="src/Data-Array-Accelerate-CUDA-Array-Data.html#pokeArrayAsync" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:copyArray" class="def">copyArray</a> :: (<a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Shape">Shape</a> dim, <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Elt">Elt</a> e) =&gt; <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Array">Array</a> dim e -&gt; <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Array">Array</a> dim e -&gt; <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:CIO">CIO</a> () <a href="src/Data-Array-Accelerate-CUDA-Array-Data.html#copyArray" class="link">Source</a></p><div class="doc"><p>Copy data between two device arrays. The operation is asynchronous with
 respect to the host, but will never overlap kernel execution.</p></div></div><div class="top"><p class="src"><a name="v:copyArrayAsync" class="def">copyArrayAsync</a> :: (<a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Shape">Shape</a> dim, <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Elt">Elt</a> e) =&gt; <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Array">Array</a> dim e -&gt; <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Array">Array</a> dim e -&gt; <a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:Stream">Stream</a> -&gt; <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:CIO">CIO</a> () <a href="src/Data-Array-Accelerate-CUDA-Array-Data.html#copyArrayAsync" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:allocateArray" class="def">allocateArray</a> :: (<a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Shape">Shape</a> dim, <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Elt">Elt</a> e) =&gt; dim -&gt; <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:CIO">CIO</a> (<a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Array">Array</a> dim e) <a href="src/Data-Array-Accelerate-CUDA-Array-Sugar.html#allocateArray" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:newArray" class="def">newArray</a> :: (<a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Shape">Shape</a> sh, <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Elt">Elt</a> e) =&gt; sh -&gt; (sh -&gt; e) -&gt; <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:CIO">CIO</a> (<a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Array">Array</a> sh e) <a href="src/Data-Array-Accelerate-CUDA-Array-Sugar.html#newArray" class="link">Source</a></p></div><h1 id="g:6">Running IO actions in an Accelerate context</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:CIO" class="def">CIO</a> a <a href="src/Data-Array-Accelerate-CUDA-State.html#CIO" class="link">Source</a></p><div class="subs instances"><p id="control.i:CIO" class="caption collapser" onclick="toggleSection('i:CIO')">Instances</p><div id="section.i:CIO" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:CIO">CIO</a></span> <a href="src/Data-Array-Accelerate-CUDA-State.html#line-71" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:CIO">CIO</a></span> <a href="src/Data-Array-Accelerate-CUDA-State.html#line-71" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Control-Applicative.html#t:Applicative">Applicative</a> <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:CIO">CIO</a></span> <a href="src/Data-Array-Accelerate-CUDA-State.html#line-71" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../transformers-0.4.2.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:CIO">CIO</a></span> <a href="src/Data-Array-Accelerate-CUDA-State.html#line-71" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">MonadReader <a href="Data-Array-Accelerate-CUDA.html#t:Context">Context</a> <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:CIO">CIO</a></span> <a href="src/Data-Array-Accelerate-CUDA-State.html#line-72" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Stream" class="def">Stream</a> :: *</p><div class="doc"><p>A processing stream. All operations in a stream are synchronous and executed
 in sequence, but operations in different non-default streams may happen
 out-of-order or concurrently with one another.</p><p>Use <code><a href="../cuda-0.7.1.0/Foreign-CUDA-Types.html#t:Event">Event</a></code>s to synchronise operations between streams.</p></div><div class="subs instances"><p id="control.i:Stream" class="caption collapser" onclick="toggleSection('i:Stream')">Instances</p><div id="section.i:Stream" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Eq.html#t:Eq">Eq</a> <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:Stream">Stream</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Text-Show.html#t:Show">Show</a> <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:Stream">Stream</a></span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:liftIO" class="def">liftIO</a> :: <a href="../transformers-0.4.2.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <span class="keyword">forall</span> a. <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> a -&gt; m a</p><div class="doc"><p>Lift a computation from the <code><a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a></code> monad.</p></div></div><div class="top"><p class="src"><a name="v:inContext" class="def">inContext</a> :: <a href="Data-Array-Accelerate-CUDA.html#t:Context">Context</a> -&gt; <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> a -&gt; <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> a <a href="src/Data-Array-Accelerate-CUDA-Foreign-Import.html#inContext" class="link">Source</a></p><div class="doc"><p>Run an IO action within the given Acclerate context</p></div></div><div class="top"><p class="src"><a name="v:inDefaultContext" class="def">inDefaultContext</a> :: <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> a -&gt; <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> a <a href="src/Data-Array-Accelerate-CUDA-Foreign-Import.html#inDefaultContext" class="link">Source</a></p><div class="doc"><p>Run an IO action in the default Acclerate context</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.16.1</p></div></body></html>