<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Data.Array.Accelerate.CUDA</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Data-Array-Accelerate-CUDA.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Data-Array-Accelerate-CUDA.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">accelerate-cuda-2.0.0.0: Accelerate backend for NVIDIA GPUs</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Copyright</th><td>[2008..2014] Manuel M T Chakravarty, Gabriele Keller
               [2008..2009] Sean Lee
               [2009..2014] Trevor L. McDonell</td></tr><tr><th>License</th><td>BSD3</td></tr><tr><th>Maintainer</th><td>Trevor L. McDonell &lt;tmcdonell@cse.unsw.edu.au&gt;</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Portability</th><td>non-portable (GHC extensions)</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell98</td></tr></table><p class="caption">Data.Array.Accelerate.CUDA</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Synchronous execution</a></li><li><a href="#g:2">Asynchronous execution</a></li><li><a href="#g:3">Execution contexts</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module implements the CUDA backend for the embedded array language
 <em>Accelerate</em>. Expressions are on-line translated into CUDA code, compiled,
 and executed in parallel on the GPU.</p><p>The accelerate-cuda library is hosted at: <a href="https://github.com/AccelerateHS/accelerate-cuda">https://github.com/AccelerateHS/accelerate-cuda</a>.
 Comments, bug reports, and patches, are always welcome.</p><dl><dt><em>Data transfer:</em></dt><dd></dd></dl><p>GPUs typically have their own attached memory, which is separate from the
 computer's main memory. Hence, every <code><a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#v:use">use</a></code> operation
 implies copying data to the device, and every <code><a href="Data-Array-Accelerate-CUDA.html#v:run">run</a></code> operation must copy the
 results of a computation back to the host.</p><p>Thus, it is best to keep all computations in the <code><a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Acc">Acc</a></code> meta-language form and
 only <code><a href="Data-Array-Accelerate-CUDA.html#v:run">run</a></code> the computation once at the end, to avoid transferring (unused)
 intermediate results.</p><p>Note that once an array has been transferred to the GPU, it will remain there
 for as long as that array remains alive on the host. Any subsequent calls to
 <code><a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#v:use">use</a></code> will find the array cached on the device and not
 re-transfer the data.</p><dl><dt><em>Caching and performance:</em></dt><dd></dd></dl><p>When the program runs, the <em>Accelerate</em> library evaluates the expression
 passed to <code><a href="Data-Array-Accelerate-CUDA.html#v:run">run</a></code> to make a series of CUDA kernels. Each kernel takes some
 arrays as inputs and produces arrays as output. Each kernel is a piece of
 CUDA code that has to be compiled and loaded onto the GPU; this can take a
 while, so we remember which kernels we have seen before and try to re-use
 them.</p><p>The goal is to make kernels that can be re-used. If we don't, the overhead of
 compiling new kernels can ruin performance.</p><p>For example, consider the following implementation of the function
 <code><a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#v:drop">drop</a></code> for vectors:</p><pre>drop :: Elt e =&gt; Exp Int -&gt; Acc (Vector e) -&gt; Acc (Vector e)
drop n arr =
  let n' = the (unit n)
  in  backpermute (ilift1 (subtract n') (shape arr)) (ilift1 (+ n')) arr</pre><p>Why did we go to the trouble of converting the <code>n</code> value into a scalar array
 using <code><a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#v:unit">unit</a></code>, and then immediately extracting that
 value using <code><a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#v:the">the</a></code>?</p><p>We can look at the expression <em>Accelerate</em> sees by evaluating the argument to
 <code><a href="Data-Array-Accelerate-CUDA.html#v:run">run</a></code>. Here is what a typical call to <code><a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#v:drop">drop</a></code> evaluates
 to:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>drop (constant 4) (use (fromList (Z:.10) [1..]))
</code></strong>let a0 = use (Array (Z :. 10) [1,2,3,4,5,6,7,8,9,10]) in
let a1 = unit 4
in backpermute
     (let x0 = Z in x0 :. (indexHead (shape a0)) - (a1!x0))
     (\x0 -&gt; let x1 = Z in x1 :. (indexHead x0) + (a1!x1))
     a0
</pre><p>The important thing to note is the line <code>let a1 = unit 4</code>. This corresponds
 to the scalar array we created for the <code>n</code> argument to
 <code><a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#v:drop">drop</a></code> and it is <em>outside</em> the call to
 <code><a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#v:backpermute">backpermute</a></code>. The <code><a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#v:backpermute">backpermute</a></code>
 function is what turns into a CUDA kernel, and to ensure that we get the same
 kernel each time we need the arguments to it to remain constant.</p><p>Let us see what happens if we change <code><a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#v:drop">drop</a></code> to instead
 use its argument <code>n</code> directly:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>drop (constant 4) (use (fromList (Z:.10) [1..]))
</code></strong>let a0 = use (Array (Z :. 10) [1,2,3,4,5,6,7,8,9,10])
in backpermute (Z :. -4 + (indexHead (shape a0))) (\x0 -&gt; Z :. 4 + (indexHead x0)) a0
</pre><p>Instead of <code>n</code> being outside the call to <code><a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#v:backpermute">backpermute</a></code>,
 it is now embedded in it. This will defeat <em>Accelerate</em>'s caching of CUDA
 kernels. Whenever the value of <code>n</code> changes, a new kernel will need to be
 compiled.</p><p>The rule of thumb is to make sure that any arguments that change are always
 passed in as arrays, not embedded in the code as constants.</p><p>How can you tell if you got it wrong? One way is to look at the code
 directly, as in this example. Another is to use the debugging options
 provided by the library. See debugging options below.</p><dl><dt><em>Hardware support:</em></dt><dd></dd></dl><p>CUDA devices are categorised into different 'compute capabilities',
 indicating what operations are supported by the hardware. For example, double
 precision arithmetic is only supported on devices of compute capability 1.3
 or higher.</p><p>Devices generally perform best when dealing with (tuples of) 32-bit types, so
 be cautious when introducing 8-, 16-, or 64-bit elements. Keep in mind the
 size of <code><a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Int">Int</a></code> and <code><a href="../base-4.7.0.2/Data-Word.html#t:Word">Word</a></code> changes depending on the architecture GHC
 runs on.</p><p>In particular:</p><ul><li><code><a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Double">Double</a></code> precision requires compute-1.3.</li><li><code><a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Bool">Bool</a></code> is represented internally using <code><a href="../base-4.7.0.2/Data-Word.html#t:Word8">Word8</a></code>, <code><a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Char">Char</a></code> by
    <code><a href="../base-4.7.0.2/Data-Word.html#t:Word32">Word32</a></code>.</li><li>If the permutation function to <code><a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#v:permute">permute</a></code> resolves to
    non-unique indices, the combination function requires compute-1.1.</li></ul><dl><dt><em>Debugging options:</em></dt><dd></dd></dl><p>When the library is installed with the <code>-fdebug</code> flag, a few extra debugging
 options are available, input via the command line arguments. The most useful
 ones are:</p><ul><li><code>-dverbose:</code> Print some information on the type and capabilities of the
    GPU being used.</li><li><code>-ddump-cc:</code> Print information about the CUDA kernels as they are compiled
    and run. Using this option will indicate whether your program is
    generating the number of kernels that you were expecting. Note that
    compiled kernels are cached in your home directory, and the generated code
    will only be displayed if it was not located in this persistent cache. To
    clear the cache and always print the generated code, use <code>-fflush-cache</code>
    as well.</li><li><code>-ddump-exec:</code> Print each kernel as it is being executed, with timing
    information.</li></ul><p>See the <code>accelerate-cuda.cabal</code> file for the full list of options.</p><dl><dt><em>Automatic Graphics Switching on Mac OS X:</em></dt><dd></dd></dl><p>Some Apple computers contain two graphics processors: a low-power integrated
 graphics chipset, as well as a higher-performance NVIDIA GPU. The latter is
 of course the one we want to use. Usually Mac OS X detects whenever a program
 attempts to run a CUDA function and switches to the NVIDIA GPU automatically.</p><p>However, sometimes this does not work correctly and the problem can manifest
 in several ways:</p><ul><li>The program may report an error such as &quot;No CUDA-capable device is
    available&quot; or &quot;invalid context handle&quot;.</li><li>For programs that also use OpenGL, the graphics switching might occur and
    the Accelerate computation complete as expected, but no OpenGL updates
    appear on screen.</li></ul><p>There are several solutions:</p><ul><li>Use a tool such as <em>gfxCardStatus</em> to manually select either the
    integrated or discrete GPU: <a href="http://gfx.io">http://gfx.io</a></li><li>Disable automatic graphics switching in the Energy Saver pane of System
    Preferences. Since this disables use of the low-power integrated GPU, this
    can decrease battery life.</li><li>When executing the program, disable the RTS clock by appending <code>+RTS -V0</code>
    to the command line arguments. This disables the RTS clock and all timers
    that depend on it: the context switch timer and the heap profiling timer.
    Context switches still happen, but deterministically and at a rate much
    faster than normal. Automatic graphics switching will work correctly, but
    this method has the disadvantage of reducing performance of the program.</li></ul></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">class</span> (<a href="../base-4.7.0.2/Data-Typeable-Internal.html#t:Typeable">Typeable</a> * a, <a href="../base-4.7.0.2/Data-Typeable-Internal.html#t:Typeable">Typeable</a> * (ArrRepr a)) =&gt; <a href="#t:Arrays">Arrays</a> a</li><li class="src short"><a href="#v:run">run</a> :: <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> a =&gt; <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Acc">Acc</a> a -&gt; a</li><li class="src short"><a href="#v:run1">run1</a> :: (<a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> a, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> b) =&gt; (<a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Acc">Acc</a> a -&gt; <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Acc">Acc</a> b) -&gt; a -&gt; b</li><li class="src short"><a href="#v:runWith">runWith</a> :: <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> a =&gt; <a href="Data-Array-Accelerate-CUDA.html#t:Context">Context</a> -&gt; <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Acc">Acc</a> a -&gt; a</li><li class="src short"><a href="#v:run1With">run1With</a> :: (<a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> a, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> b) =&gt; <a href="Data-Array-Accelerate-CUDA.html#t:Context">Context</a> -&gt; (<a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Acc">Acc</a> a -&gt; <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Acc">Acc</a> b) -&gt; a -&gt; b</li><li class="src short"><a href="#v:stream">stream</a> :: (<a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> a, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> b) =&gt; (<a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Acc">Acc</a> a -&gt; <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Acc">Acc</a> b) -&gt; [a] -&gt; [b]</li><li class="src short"><a href="#v:streamOut">streamOut</a> :: <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> a =&gt; <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Seq">Seq</a> [a] -&gt; [a]</li><li class="src short"><a href="#v:streamWith">streamWith</a> :: (<a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> a, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> b) =&gt; <a href="Data-Array-Accelerate-CUDA.html#t:Context">Context</a> -&gt; (<a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Acc">Acc</a> a -&gt; <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Acc">Acc</a> b) -&gt; [a] -&gt; [b]</li><li class="src short"><a href="#v:streamOutWith">streamOutWith</a> :: <span class="keyword">forall</span> a. <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> a =&gt; <a href="Data-Array-Accelerate-CUDA.html#t:Context">Context</a> -&gt; <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Seq">Seq</a> [a] -&gt; [a]</li><li class="src short"><span class="keyword">data</span> <a href="#t:Async">Async</a> a :: * -&gt; *</li><li class="src short"><a href="#v:wait">wait</a> ::  <a href="Data-Array-Accelerate-CUDA.html#t:Async">Async</a> a -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> a</li><li class="src short"><a href="#v:poll">poll</a> ::  <a href="Data-Array-Accelerate-CUDA.html#t:Async">Async</a> a -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> (<a href="../base-4.7.0.2/Data-Maybe.html#t:Maybe">Maybe</a> a)</li><li class="src short"><a href="#v:cancel">cancel</a> ::  <a href="Data-Array-Accelerate-CUDA.html#t:Async">Async</a> a -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:runAsync">runAsync</a> :: <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> a =&gt; <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Acc">Acc</a> a -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> (<a href="Data-Array-Accelerate-CUDA.html#t:Async">Async</a> a)</li><li class="src short"><a href="#v:run1Async">run1Async</a> :: (<a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> a, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> b) =&gt; (<a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Acc">Acc</a> a -&gt; <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Acc">Acc</a> b) -&gt; a -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> (<a href="Data-Array-Accelerate-CUDA.html#t:Async">Async</a> b)</li><li class="src short"><a href="#v:runAsyncWith">runAsyncWith</a> :: <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> a =&gt; <a href="Data-Array-Accelerate-CUDA.html#t:Context">Context</a> -&gt; <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Acc">Acc</a> a -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> (<a href="Data-Array-Accelerate-CUDA.html#t:Async">Async</a> a)</li><li class="src short"><a href="#v:run1AsyncWith">run1AsyncWith</a> :: (<a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> a, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> b) =&gt; <a href="Data-Array-Accelerate-CUDA.html#t:Context">Context</a> -&gt; (<a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Acc">Acc</a> a -&gt; <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Acc">Acc</a> b) -&gt; a -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> (<a href="Data-Array-Accelerate-CUDA.html#t:Async">Async</a> b)</li><li class="src short"><span class="keyword">data</span> <a href="#t:Context">Context</a></li><li class="src short"><a href="#v:create">create</a> :: <a href="../cuda-0.7.1.0/Foreign-CUDA-Driver-Device.html#t:Device">Device</a> -&gt; [<a href="../cuda-0.7.1.0/Foreign-CUDA-Driver-Context-Base.html#t:ContextFlag">ContextFlag</a>] -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> <a href="Data-Array-Accelerate-CUDA.html#t:Context">Context</a></li><li class="src short"><a href="#v:destroy">destroy</a> :: <a href="Data-Array-Accelerate-CUDA.html#t:Context">Context</a> -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:unsafeFree">unsafeFree</a> :: <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> arrs =&gt; arrs -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:unsafeFreeWith">unsafeFreeWith</a> :: <span class="keyword">forall</span> arrs. <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> arrs =&gt; <a href="Data-Array-Accelerate-CUDA.html#t:Context">Context</a> -&gt; arrs -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:performGC">performGC</a> :: <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:performGCWith">performGCWith</a> :: <a href="Data-Array-Accelerate-CUDA.html#t:Context">Context</a> -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> ()</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">class</span> (<a href="../base-4.7.0.2/Data-Typeable-Internal.html#t:Typeable">Typeable</a> * a, <a href="../base-4.7.0.2/Data-Typeable-Internal.html#t:Typeable">Typeable</a> * (ArrRepr a)) =&gt; <a name="t:Arrays" class="def">Arrays</a> a</p><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src">arrays, flavour, toArr, fromArr</p></div><div class="subs instances"><p id="control.i:Arrays" class="caption collapser" onclick="toggleSection('i:Arrays')">Instances</p><div id="section.i:Arrays" class="show"><table><tr><td class="src"><a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> ()</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> t =&gt; IsProduct <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> (Vector' t)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> t, <a href="../base-4.7.0.2/Data-Typeable-Internal.html#t:Typeable">Typeable</a> * (ArrRepr (Vector' t))) =&gt; <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> (Vector' t)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> a, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> b) =&gt; <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> (a, b)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Shape">Shape</a> sh, <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Elt">Elt</a> e) =&gt; <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> (<a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Array">Array</a> sh e)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> a, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> b, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> c) =&gt; <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> (a, b, c)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> a, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> b, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> c, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> d) =&gt; <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> (a, b, c, d)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> a, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> b, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> c, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> d, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> e) =&gt; <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> (a, b, c, d, e)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> a, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> b, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> c, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> d, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> e, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> f) =&gt; <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> (a, b, c, d, e, f)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> a, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> b, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> c, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> d, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> e, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> f, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> g) =&gt; <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> (a, b, c, d, e, f, g)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> a, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> b, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> c, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> d, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> e, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> f, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> g, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> h) =&gt; <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> (a, b, c, d, e, f, g, h)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> a, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> b, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> c, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> d, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> e, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> f, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> g, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> h, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> i) =&gt; <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> (a, b, c, d, e, f, g, h, i)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> a, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> b, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> c, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> d, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> e, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> f, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> g, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> h, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> i, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> j) =&gt; <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> (a, b, c, d, e, f, g, h, i, j)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> a, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> b, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> c, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> d, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> e, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> f, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> g, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> h, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> i, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> j, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> k) =&gt; <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> (a, b, c, d, e, f, g, h, i, j, k)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> a, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> b, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> c, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> d, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> e, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> f, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> g, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> h, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> i, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> j, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> k, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> l) =&gt; <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> (a, b, c, d, e, f, g, h, i, j, k, l)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> a, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> b, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> c, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> d, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> e, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> f, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> g, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> h, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> i, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> j, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> k, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> l, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> m) =&gt; <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> (a, b, c, d, e, f, g, h, i, j, k, l, m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> a, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> b, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> c, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> d, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> e, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> f, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> g, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> h, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> i, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> j, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> k, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> l, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> m, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> n) =&gt; <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> (a, b, c, d, e, f, g, h, i, j, k, l, m, n)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> a, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> b, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> c, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> d, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> e, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> f, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> g, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> h, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> i, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> j, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> k, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> l, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> m, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> n, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> o) =&gt; <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> (a, b, c, d, e, f, g, h, i, j, k, l, m, n, o)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h1 id="g:1">Synchronous execution</h1><div class="top"><p class="src"><a name="v:run" class="def">run</a> :: <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> a =&gt; <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Acc">Acc</a> a -&gt; a <a href="src/Data-Array-Accelerate-CUDA.html#run" class="link">Source</a></p><div class="doc"><p>Compile and run a complete embedded array program using the CUDA backend.
 This will select the fastest device available on which to execute
 computations, based on compute capability and estimated maximum GFLOPS.</p><p>Note that it is recommended you use <code><a href="Data-Array-Accelerate-CUDA.html#v:run1">run1</a></code> whenever possible.</p></div></div><div class="top"><p class="src"><a name="v:run1" class="def">run1</a> :: (<a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> a, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> b) =&gt; (<a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Acc">Acc</a> a -&gt; <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Acc">Acc</a> b) -&gt; a -&gt; b <a href="src/Data-Array-Accelerate-CUDA.html#run1" class="link">Source</a></p><div class="doc"><p>Prepare and execute an embedded array program of one argument.</p><p>This function can be used to improve performance in cases where the array
 program is constant between invocations, because it allows us to bypass all
 front-end conversion stages and move directly to the execution phase. If you
 have a computation applied repeatedly to different input data, use this. If
 the function is only evaluated once, this is equivalent to <code><a href="Data-Array-Accelerate-CUDA.html#v:run">run</a></code>.</p><p>To use <code><a href="Data-Array-Accelerate-CUDA.html#v:run1">run1</a></code> you must express your program as a function of one argument. If
 your program takes more than one argument, you can use
 <code><a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#v:lift">lift</a></code> and <code><a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#v:unlift">unlift</a></code> to tuple up
 the arguments.</p><p>At an example, once your program is expressed as a function of one argument,
 instead of the usual:</p><pre>step :: Acc (Vector a) -&gt; Acc (Vector b)
step = ...

simulate :: Vector a -&gt; Vector b
simulate xs = run $ step (use xs)</pre><p>Instead write:</p><pre>simulate xs = run1 step xs</pre><p>You can use the debugging options to check whether this is working
 successfully by, for example, observing no output from the <code>-ddump-cc</code> flag
 at the second and subsequent invocations.</p><p>See the programs in the 'accelerate-examples' package for examples.</p></div></div><div class="top"><p class="src"><a name="v:runWith" class="def">runWith</a> :: <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> a =&gt; <a href="Data-Array-Accelerate-CUDA.html#t:Context">Context</a> -&gt; <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Acc">Acc</a> a -&gt; a <a href="src/Data-Array-Accelerate-CUDA.html#runWith" class="link">Source</a></p><div class="doc"><p>As <code><a href="Data-Array-Accelerate-CUDA.html#v:run">run</a></code>, but execute using the specified device context rather than using
 the default, automatically selected device.</p><p>Contexts passed to this function may all refer to the same device, or to
 separate devices of differing compute capabilities.</p><p>Note that each thread has a stack of current contexts, and calling
 <code><a href="../cuda-0.7.1.0/Foreign-CUDA-Driver-Context.html#v:create">create</a></code> pushes the new context on top of the
 stack and makes it current with the calling thread. You should call
 <code><a href="../cuda-0.7.1.0/Foreign-CUDA-Driver-Context.html#v:pop">pop</a></code> to make the context floating before passing
 it to <code><a href="Data-Array-Accelerate-CUDA.html#v:runWith">runWith</a></code>, which will make it current for the duration of evaluating the
 expression. See the CUDA C Programming Guide (G.1) for more information.</p></div></div><div class="top"><p class="src"><a name="v:run1With" class="def">run1With</a> :: (<a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> a, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> b) =&gt; <a href="Data-Array-Accelerate-CUDA.html#t:Context">Context</a> -&gt; (<a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Acc">Acc</a> a -&gt; <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Acc">Acc</a> b) -&gt; a -&gt; b <a href="src/Data-Array-Accelerate-CUDA.html#run1With" class="link">Source</a></p><div class="doc"><p>As <code><a href="Data-Array-Accelerate-CUDA.html#v:run1">run1</a></code>, but execute in the specified context.</p></div></div><div class="top"><p class="src"><a name="v:stream" class="def">stream</a> :: (<a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> a, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> b) =&gt; (<a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Acc">Acc</a> a -&gt; <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Acc">Acc</a> b) -&gt; [a] -&gt; [b] <a href="src/Data-Array-Accelerate-CUDA.html#stream" class="link">Source</a></p><div class="doc"><p>Stream a lazily read list of input arrays through the given program,
   collecting results as we go.</p></div></div><div class="top"><p class="src"><a name="v:streamOut" class="def">streamOut</a> :: <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> a =&gt; <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Seq">Seq</a> [a] -&gt; [a] <a href="src/Data-Array-Accelerate-CUDA.html#streamOut" class="link">Source</a></p><div class="doc"><p>Generate a lazy list from a sequence computation.</p></div></div><div class="top"><p class="src"><a name="v:streamWith" class="def">streamWith</a> :: (<a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> a, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> b) =&gt; <a href="Data-Array-Accelerate-CUDA.html#t:Context">Context</a> -&gt; (<a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Acc">Acc</a> a -&gt; <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Acc">Acc</a> b) -&gt; [a] -&gt; [b] <a href="src/Data-Array-Accelerate-CUDA.html#streamWith" class="link">Source</a></p><div class="doc"><p>As <code><a href="Data-Array-Accelerate-CUDA.html#v:stream">stream</a></code>, but execute in the specified context.</p></div></div><div class="top"><p class="src"><a name="v:streamOutWith" class="def">streamOutWith</a> :: <span class="keyword">forall</span> a. <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> a =&gt; <a href="Data-Array-Accelerate-CUDA.html#t:Context">Context</a> -&gt; <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Seq">Seq</a> [a] -&gt; [a] <a href="src/Data-Array-Accelerate-CUDA.html#streamOutWith" class="link">Source</a></p></div><h1 id="g:2">Asynchronous execution</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Async" class="def">Async</a> a :: * -&gt; *</p></div><div class="top"><p class="src"><a name="v:wait" class="def">wait</a> ::  <a href="Data-Array-Accelerate-CUDA.html#t:Async">Async</a> a -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> a</p><div class="doc"><p>Block the calling thread until the computation completes, then return the
 result.</p></div></div><div class="top"><p class="src"><a name="v:poll" class="def">poll</a> ::  <a href="Data-Array-Accelerate-CUDA.html#t:Async">Async</a> a -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> (<a href="../base-4.7.0.2/Data-Maybe.html#t:Maybe">Maybe</a> a)</p><div class="doc"><p>Test whether the asynchronous computation has already completed. If so,
 return the result, else <code><a href="../base-4.7.0.2/Data-Maybe.html#v:Nothing">Nothing</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:cancel" class="def">cancel</a> ::  <a href="Data-Array-Accelerate-CUDA.html#t:Async">Async</a> a -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> ()</p><div class="doc"><p>Cancel a running asynchronous computation.</p></div></div><div class="top"><p class="src"><a name="v:runAsync" class="def">runAsync</a> :: <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> a =&gt; <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Acc">Acc</a> a -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> (<a href="Data-Array-Accelerate-CUDA.html#t:Async">Async</a> a) <a href="src/Data-Array-Accelerate-CUDA.html#runAsync" class="link">Source</a></p><div class="doc"><p>As <code><a href="Data-Array-Accelerate-CUDA.html#v:run">run</a></code>, but allow the computation to continue running in a thread and
 return immediately without waiting for the result. The status of the
 computation can be queried using <code><a href="Data-Array-Accelerate-CUDA.html#v:wait">wait</a></code>, <code><a href="Data-Array-Accelerate-CUDA.html#v:poll">poll</a></code>, and <code><a href="Data-Array-Accelerate-CUDA.html#v:cancel">cancel</a></code>.</p><p>Note that a CUDA Context can be active on only one host thread at a time. If
 you want to execute multiple computations in parallel, use <code><a href="Data-Array-Accelerate-CUDA.html#v:runAsyncWith">runAsyncWith</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:run1Async" class="def">run1Async</a> :: (<a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> a, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> b) =&gt; (<a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Acc">Acc</a> a -&gt; <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Acc">Acc</a> b) -&gt; a -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> (<a href="Data-Array-Accelerate-CUDA.html#t:Async">Async</a> b) <a href="src/Data-Array-Accelerate-CUDA.html#run1Async" class="link">Source</a></p><div class="doc"><p>As <code><a href="Data-Array-Accelerate-CUDA.html#v:run1">run1</a></code>, but the computation is executed asynchronously.</p></div></div><div class="top"><p class="src"><a name="v:runAsyncWith" class="def">runAsyncWith</a> :: <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> a =&gt; <a href="Data-Array-Accelerate-CUDA.html#t:Context">Context</a> -&gt; <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Acc">Acc</a> a -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> (<a href="Data-Array-Accelerate-CUDA.html#t:Async">Async</a> a) <a href="src/Data-Array-Accelerate-CUDA.html#runAsyncWith" class="link">Source</a></p><div class="doc"><p>As <code><a href="Data-Array-Accelerate-CUDA.html#v:runWith">runWith</a></code>, but execute asynchronously. Be sure not to destroy the context,
 or attempt to attach it to a different host thread, before all outstanding
 operations have completed.</p></div></div><div class="top"><p class="src"><a name="v:run1AsyncWith" class="def">run1AsyncWith</a> :: (<a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> a, <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> b) =&gt; <a href="Data-Array-Accelerate-CUDA.html#t:Context">Context</a> -&gt; (<a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Acc">Acc</a> a -&gt; <a href="../accelerate-2.0.0.0/Data-Array-Accelerate.html#t:Acc">Acc</a> b) -&gt; a -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> (<a href="Data-Array-Accelerate-CUDA.html#t:Async">Async</a> b) <a href="src/Data-Array-Accelerate-CUDA.html#run1AsyncWith" class="link">Source</a></p><div class="doc"><p>As <code><a href="Data-Array-Accelerate-CUDA.html#v:run1With">run1With</a></code>, but execute asynchronously.</p></div></div><h1 id="g:3">Execution contexts</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Context" class="def">Context</a> <a href="src/Data-Array-Accelerate-CUDA-Context.html#Context" class="link">Source</a></p><div class="doc"><p>The execution context</p></div><div class="subs instances"><p id="control.i:Context" class="caption collapser" onclick="toggleSection('i:Context')">Instances</p><div id="section.i:Context" class="show"><table><tr><td class="src"><a href="../base-4.7.0.2/Data-Eq.html#t:Eq">Eq</a> <a href="Data-Array-Accelerate-CUDA.html#t:Context">Context</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">MonadReader <a href="Data-Array-Accelerate-CUDA.html#t:Context">Context</a> <a href="Data-Array-Accelerate-CUDA-Foreign.html#t:CIO">CIO</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:create" class="def">create</a> :: <a href="../cuda-0.7.1.0/Foreign-CUDA-Driver-Device.html#t:Device">Device</a> -&gt; [<a href="../cuda-0.7.1.0/Foreign-CUDA-Driver-Context-Base.html#t:ContextFlag">ContextFlag</a>] -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> <a href="Data-Array-Accelerate-CUDA.html#t:Context">Context</a> <a href="src/Data-Array-Accelerate-CUDA-Context.html#create" class="link">Source</a></p><div class="doc"><p>Create a new CUDA context associated with the calling thread</p></div></div><div class="top"><p class="src"><a name="v:destroy" class="def">destroy</a> :: <a href="Data-Array-Accelerate-CUDA.html#t:Context">Context</a> -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> () <a href="src/Data-Array-Accelerate-CUDA-Context.html#destroy" class="link">Source</a></p><div class="doc"><p>Destroy the specified context. This will fail if the context is more than
 single attachment.</p></div></div><div class="top"><p class="src"><a name="v:unsafeFree" class="def">unsafeFree</a> :: <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> arrs =&gt; arrs -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> () <a href="src/Data-Array-Accelerate-CUDA.html#unsafeFree" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:unsafeFreeWith" class="def">unsafeFreeWith</a> :: <span class="keyword">forall</span> arrs. <a href="Data-Array-Accelerate-CUDA.html#t:Arrays">Arrays</a> arrs =&gt; <a href="Data-Array-Accelerate-CUDA.html#t:Context">Context</a> -&gt; arrs -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> () <a href="src/Data-Array-Accelerate-CUDA.html#unsafeFreeWith" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:performGC" class="def">performGC</a> :: <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> () <a href="src/Data-Array-Accelerate-CUDA.html#performGC" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:performGCWith" class="def">performGCWith</a> :: <a href="Data-Array-Accelerate-CUDA.html#t:Context">Context</a> -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> () <a href="src/Data-Array-Accelerate-CUDA.html#performGCWith" class="link">Source</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.14.3</p></div></body></html>