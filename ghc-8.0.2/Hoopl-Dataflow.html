<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Hoopl.Dataflow</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Hoopl-Dataflow.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Hoopl-Dataflow.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">ghc-8.0.2: The GHC API</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Hoopl.Dataflow</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Respecting Fuel</a></li></ul></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:DataflowLattice">DataflowLattice</a> a :: <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> = <a href="#v:DataflowLattice">DataflowLattice</a> {<ul class="subs"><li><a href="#v:fact_name">fact_name</a> :: <a href="../base-4.9.1.0/Data-String.html#t:String">String</a></li><li><a href="#v:fact_bot">fact_bot</a> :: a</li><li><a href="#v:fact_join">fact_join</a> :: <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:JoinFun">JoinFun</a> a</li></ul>}</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:OldFact">OldFact</a> a :: <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> = <a href="#v:OldFact">OldFact</a> a</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:NewFact">NewFact</a> a :: <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> = <a href="#v:NewFact">NewFact</a> a</li><li class="src short"><span class="keyword">type family</span> <a href="#t:Fact">Fact</a> x f :: <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a></li><li class="src short"><a href="#v:mkFactBase">mkFactBase</a> :: <a href="Hoopl-Dataflow.html#t:DataflowLattice">DataflowLattice</a> f -&gt; [(<a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:Label">Label</a>, f)] -&gt; <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:FactBase">FactBase</a> f</li><li class="src short"><span class="keyword">data</span> <a href="#t:ChangeFlag">ChangeFlag</a> :: <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a><ul class="subs"><li>= <a href="#v:NoChange">NoChange</a></li><li>| <a href="#v:SomeChange">SomeChange</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:FwdPass">FwdPass</a> m n f :: (<a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a>) -&gt; (<a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a>) -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> = <a href="#v:FwdPass">FwdPass</a> {<ul class="subs"><li><a href="#v:fp_lattice">fp_lattice</a> :: <a href="Hoopl-Dataflow.html#t:DataflowLattice">DataflowLattice</a> f</li><li><a href="#v:fp_transfer">fp_transfer</a> :: <a href="Hoopl-Dataflow.html#t:FwdTransfer">FwdTransfer</a> n f</li><li><a href="#v:fp_rewrite">fp_rewrite</a> :: <a href="Hoopl-Dataflow.html#t:FwdRewrite">FwdRewrite</a> m n f</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:FwdTransfer">FwdTransfer</a> n f :: (<a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a>) -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a></li><li class="src short"><a href="#v:mkFTransfer">mkFTransfer</a> :: (<span class="keyword">forall</span> e x. n e x -&gt; f -&gt; <a href="Hoopl-Dataflow.html#t:Fact">Fact</a> x f) -&gt; <a href="Hoopl-Dataflow.html#t:FwdTransfer">FwdTransfer</a> n f</li><li class="src short"><a href="#v:mkFTransfer3">mkFTransfer3</a> :: (n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:C">C</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> -&gt; f -&gt; f) -&gt; (n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> -&gt; f -&gt; f) -&gt; (n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:C">C</a> -&gt; f -&gt; <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:FactBase">FactBase</a> f) -&gt; <a href="Hoopl-Dataflow.html#t:FwdTransfer">FwdTransfer</a> n f</li><li class="src short"><a href="#v:getFTransfer3">getFTransfer3</a> :: <a href="Hoopl-Dataflow.html#t:FwdTransfer">FwdTransfer</a> n f -&gt; (n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:C">C</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> -&gt; f -&gt; f, n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> -&gt; f -&gt; f, n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:C">C</a> -&gt; f -&gt; <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:FactBase">FactBase</a> f)</li><li class="src short"><span class="keyword">data</span> <a href="#t:FwdRewrite">FwdRewrite</a> m n f :: (<a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a>) -&gt; (<a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a>) -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a></li><li class="src short"><a href="#v:mkFRewrite">mkFRewrite</a> :: <a href="../hoopl-3.10.2.1/Compiler-Hoopl.html#t:FuelMonad">FuelMonad</a> m =&gt; (<span class="keyword">forall</span> e x. n e x -&gt; f -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (Graph n e x))) -&gt; <a href="Hoopl-Dataflow.html#t:FwdRewrite">FwdRewrite</a> m n f</li><li class="src short"><a href="#v:mkFRewrite3">mkFRewrite3</a> :: <span class="keyword">forall</span> n f. (n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:C">C</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> -&gt; f -&gt; <a href="UniqSupply.html#t:UniqSM">UniqSM</a> (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:Graph">Graph</a> n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:C">C</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a>))) -&gt; (n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> -&gt; f -&gt; <a href="UniqSupply.html#t:UniqSM">UniqSM</a> (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:Graph">Graph</a> n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a>))) -&gt; (n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:C">C</a> -&gt; f -&gt; <a href="UniqSupply.html#t:UniqSM">UniqSM</a> (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:Graph">Graph</a> n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:C">C</a>))) -&gt; <a href="Hoopl-Dataflow.html#t:FwdRewrite">FwdRewrite</a> <a href="UniqSupply.html#t:UniqSM">UniqSM</a> n f</li><li class="src short"><a href="#v:getFRewrite3">getFRewrite3</a> :: <a href="Hoopl-Dataflow.html#t:FwdRewrite">FwdRewrite</a> m n f -&gt; (n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:C">C</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> -&gt; f -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (Graph n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:C">C</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a>, <a href="Hoopl-Dataflow.html#t:FwdRewrite">FwdRewrite</a> m n f)), n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> -&gt; f -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (Graph n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a>, <a href="Hoopl-Dataflow.html#t:FwdRewrite">FwdRewrite</a> m n f)), n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:C">C</a> -&gt; f -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (Graph n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:C">C</a>, <a href="Hoopl-Dataflow.html#t:FwdRewrite">FwdRewrite</a> m n f)))</li><li class="src short"><a href="#v:noFwdRewrite">noFwdRewrite</a> :: <a href="Hoopl-Dataflow.html#t:FwdRewrite">FwdRewrite</a> <a href="UniqSupply.html#t:UniqSM">UniqSM</a> n f</li><li class="src short"><a href="#v:wrapFR">wrapFR</a> :: (<span class="keyword">forall</span> e x. (n e x -&gt; f -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (Graph n e x, <a href="Hoopl-Dataflow.html#t:FwdRewrite">FwdRewrite</a> m n f))) -&gt; n' e x -&gt; f' -&gt; m' (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (Graph n' e x, <a href="Hoopl-Dataflow.html#t:FwdRewrite">FwdRewrite</a> m' n' f'))) -&gt; <a href="Hoopl-Dataflow.html#t:FwdRewrite">FwdRewrite</a> m n f -&gt; <a href="Hoopl-Dataflow.html#t:FwdRewrite">FwdRewrite</a> m' n' f'</li><li class="src short"><a href="#v:wrapFR2">wrapFR2</a> :: (<span class="keyword">forall</span> e x. (n1 e x -&gt; f1 -&gt; m1 (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (Graph n1 e x, <a href="Hoopl-Dataflow.html#t:FwdRewrite">FwdRewrite</a> m1 n1 f1))) -&gt; (n2 e x -&gt; f2 -&gt; m2 (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (Graph n2 e x, <a href="Hoopl-Dataflow.html#t:FwdRewrite">FwdRewrite</a> m2 n2 f2))) -&gt; n3 e x -&gt; f3 -&gt; m3 (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (Graph n3 e x, <a href="Hoopl-Dataflow.html#t:FwdRewrite">FwdRewrite</a> m3 n3 f3))) -&gt; <a href="Hoopl-Dataflow.html#t:FwdRewrite">FwdRewrite</a> m1 n1 f1 -&gt; <a href="Hoopl-Dataflow.html#t:FwdRewrite">FwdRewrite</a> m2 n2 f2 -&gt; <a href="Hoopl-Dataflow.html#t:FwdRewrite">FwdRewrite</a> m3 n3 f3</li><li class="src short"><span class="keyword">data</span> <a href="#t:BwdPass">BwdPass</a> m n f :: (<a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a>) -&gt; (<a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a>) -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> = <a href="#v:BwdPass">BwdPass</a> {<ul class="subs"><li><a href="#v:bp_lattice">bp_lattice</a> :: <a href="Hoopl-Dataflow.html#t:DataflowLattice">DataflowLattice</a> f</li><li><a href="#v:bp_transfer">bp_transfer</a> :: <a href="Hoopl-Dataflow.html#t:BwdTransfer">BwdTransfer</a> n f</li><li><a href="#v:bp_rewrite">bp_rewrite</a> :: <a href="Hoopl-Dataflow.html#t:BwdRewrite">BwdRewrite</a> m n f</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:BwdTransfer">BwdTransfer</a> n f :: (<a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a>) -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a></li><li class="src short"><a href="#v:mkBTransfer">mkBTransfer</a> :: (<span class="keyword">forall</span> e x. n e x -&gt; <a href="Hoopl-Dataflow.html#t:Fact">Fact</a> x f -&gt; f) -&gt; <a href="Hoopl-Dataflow.html#t:BwdTransfer">BwdTransfer</a> n f</li><li class="src short"><a href="#v:mkBTransfer3">mkBTransfer3</a> :: (n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:C">C</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> -&gt; f -&gt; f) -&gt; (n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> -&gt; f -&gt; f) -&gt; (n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:C">C</a> -&gt; <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:FactBase">FactBase</a> f -&gt; f) -&gt; <a href="Hoopl-Dataflow.html#t:BwdTransfer">BwdTransfer</a> n f</li><li class="src short"><a href="#v:getBTransfer3">getBTransfer3</a> :: <a href="Hoopl-Dataflow.html#t:BwdTransfer">BwdTransfer</a> n f -&gt; (n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:C">C</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> -&gt; f -&gt; f, n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> -&gt; f -&gt; f, n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:C">C</a> -&gt; <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:FactBase">FactBase</a> f -&gt; f)</li><li class="src short"><a href="#v:wrapBR">wrapBR</a> :: (<span class="keyword">forall</span> e x. <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:Shape">Shape</a> x -&gt; (n e x -&gt; <a href="Hoopl-Dataflow.html#t:Fact">Fact</a> x f -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (Graph n e x, <a href="Hoopl-Dataflow.html#t:BwdRewrite">BwdRewrite</a> m n f))) -&gt; n' e x -&gt; <a href="Hoopl-Dataflow.html#t:Fact">Fact</a> x f' -&gt; m' (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (Graph n' e x, <a href="Hoopl-Dataflow.html#t:BwdRewrite">BwdRewrite</a> m' n' f'))) -&gt; <a href="Hoopl-Dataflow.html#t:BwdRewrite">BwdRewrite</a> m n f -&gt; <a href="Hoopl-Dataflow.html#t:BwdRewrite">BwdRewrite</a> m' n' f'</li><li class="src short"><a href="#v:wrapBR2">wrapBR2</a> :: (<span class="keyword">forall</span> e x. <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:Shape">Shape</a> x -&gt; (n1 e x -&gt; <a href="Hoopl-Dataflow.html#t:Fact">Fact</a> x f1 -&gt; m1 (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (Graph n1 e x, <a href="Hoopl-Dataflow.html#t:BwdRewrite">BwdRewrite</a> m1 n1 f1))) -&gt; (n2 e x -&gt; <a href="Hoopl-Dataflow.html#t:Fact">Fact</a> x f2 -&gt; m2 (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (Graph n2 e x, <a href="Hoopl-Dataflow.html#t:BwdRewrite">BwdRewrite</a> m2 n2 f2))) -&gt; n3 e x -&gt; <a href="Hoopl-Dataflow.html#t:Fact">Fact</a> x f3 -&gt; m3 (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (Graph n3 e x, <a href="Hoopl-Dataflow.html#t:BwdRewrite">BwdRewrite</a> m3 n3 f3))) -&gt; <a href="Hoopl-Dataflow.html#t:BwdRewrite">BwdRewrite</a> m1 n1 f1 -&gt; <a href="Hoopl-Dataflow.html#t:BwdRewrite">BwdRewrite</a> m2 n2 f2 -&gt; <a href="Hoopl-Dataflow.html#t:BwdRewrite">BwdRewrite</a> m3 n3 f3</li><li class="src short"><span class="keyword">data</span> <a href="#t:BwdRewrite">BwdRewrite</a> m n f :: (<a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a>) -&gt; (<a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a>) -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a></li><li class="src short"><a href="#v:mkBRewrite">mkBRewrite</a> :: <a href="../hoopl-3.10.2.1/Compiler-Hoopl.html#t:FuelMonad">FuelMonad</a> m =&gt; (<span class="keyword">forall</span> e x. n e x -&gt; <a href="Hoopl-Dataflow.html#t:Fact">Fact</a> x f -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (Graph n e x))) -&gt; <a href="Hoopl-Dataflow.html#t:BwdRewrite">BwdRewrite</a> m n f</li><li class="src short"><a href="#v:mkBRewrite3">mkBRewrite3</a> :: <span class="keyword">forall</span> n f. (n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:C">C</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> -&gt; f -&gt; <a href="UniqSupply.html#t:UniqSM">UniqSM</a> (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:Graph">Graph</a> n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:C">C</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a>))) -&gt; (n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> -&gt; f -&gt; <a href="UniqSupply.html#t:UniqSM">UniqSM</a> (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:Graph">Graph</a> n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a>))) -&gt; (n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:C">C</a> -&gt; <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:FactBase">FactBase</a> f -&gt; <a href="UniqSupply.html#t:UniqSM">UniqSM</a> (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:Graph">Graph</a> n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:C">C</a>))) -&gt; <a href="Hoopl-Dataflow.html#t:BwdRewrite">BwdRewrite</a> <a href="UniqSupply.html#t:UniqSM">UniqSM</a> n f</li><li class="src short"><a href="#v:getBRewrite3">getBRewrite3</a> :: <a href="Hoopl-Dataflow.html#t:BwdRewrite">BwdRewrite</a> m n f -&gt; (n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:C">C</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> -&gt; f -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (Graph n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:C">C</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a>, <a href="Hoopl-Dataflow.html#t:BwdRewrite">BwdRewrite</a> m n f)), n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> -&gt; f -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (Graph n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a>, <a href="Hoopl-Dataflow.html#t:BwdRewrite">BwdRewrite</a> m n f)), n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:C">C</a> -&gt; <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:FactBase">FactBase</a> f -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (Graph n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:C">C</a>, <a href="Hoopl-Dataflow.html#t:BwdRewrite">BwdRewrite</a> m n f)))</li><li class="src short"><a href="#v:noBwdRewrite">noBwdRewrite</a> :: <a href="Hoopl-Dataflow.html#t:BwdRewrite">BwdRewrite</a> <a href="UniqSupply.html#t:UniqSM">UniqSM</a> n f</li><li class="src short"><a href="#v:analyzeAndRewriteFwd">analyzeAndRewriteFwd</a> :: <span class="keyword">forall</span> n f e x. <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:NonLocal">NonLocal</a> n =&gt; <a href="Hoopl-Dataflow.html#t:FwdPass">FwdPass</a> <a href="UniqSupply.html#t:UniqSM">UniqSM</a> n f -&gt; <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:MaybeC">MaybeC</a> e [<a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:Label">Label</a>] -&gt; <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:Graph">Graph</a> n e x -&gt; <a href="Hoopl-Dataflow.html#t:Fact">Fact</a> e f -&gt; <a href="UniqSupply.html#t:UniqSM">UniqSM</a> (<a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:Graph">Graph</a> n e x, <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:FactBase">FactBase</a> f, <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:MaybeO">MaybeO</a> x f)</li><li class="src short"><a href="#v:analyzeAndRewriteBwd">analyzeAndRewriteBwd</a> :: <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:NonLocal">NonLocal</a> n =&gt; <a href="Hoopl-Dataflow.html#t:BwdPass">BwdPass</a> <a href="UniqSupply.html#t:UniqSM">UniqSM</a> n f -&gt; <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:MaybeC">MaybeC</a> e [<a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:Label">Label</a>] -&gt; <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:Graph">Graph</a> n e x -&gt; <a href="Hoopl-Dataflow.html#t:Fact">Fact</a> x f -&gt; <a href="UniqSupply.html#t:UniqSM">UniqSM</a> (<a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:Graph">Graph</a> n e x, <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:FactBase">FactBase</a> f, <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:MaybeO">MaybeO</a> e f)</li><li class="src short"><a href="#v:analyzeFwd">analyzeFwd</a> :: <span class="keyword">forall</span> n f e. <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:NonLocal">NonLocal</a> n =&gt; <a href="Hoopl-Dataflow.html#t:FwdPass">FwdPass</a> <a href="UniqSupply.html#t:UniqSM">UniqSM</a> n f -&gt; <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:MaybeC">MaybeC</a> e [<a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:Label">Label</a>] -&gt; <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:Graph">Graph</a> n e <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:C">C</a> -&gt; <a href="Hoopl-Dataflow.html#t:Fact">Fact</a> e f -&gt; <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:FactBase">FactBase</a> f</li><li class="src short"><a href="#v:analyzeFwdBlocks">analyzeFwdBlocks</a> :: <span class="keyword">forall</span> n f e. <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:NonLocal">NonLocal</a> n =&gt; <a href="Hoopl-Dataflow.html#t:FwdPass">FwdPass</a> <a href="UniqSupply.html#t:UniqSM">UniqSM</a> n f -&gt; <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:MaybeC">MaybeC</a> e [<a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:Label">Label</a>] -&gt; <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:Graph">Graph</a> n e <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:C">C</a> -&gt; <a href="Hoopl-Dataflow.html#t:Fact">Fact</a> e f -&gt; <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:FactBase">FactBase</a> f</li><li class="src short"><a href="#v:analyzeBwd">analyzeBwd</a> :: <span class="keyword">forall</span> n f e. <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:NonLocal">NonLocal</a> n =&gt; <a href="Hoopl-Dataflow.html#t:BwdPass">BwdPass</a> <a href="UniqSupply.html#t:UniqSM">UniqSM</a> n f -&gt; <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:MaybeC">MaybeC</a> e [<a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:Label">Label</a>] -&gt; <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:Graph">Graph</a> n e <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:C">C</a> -&gt; <a href="Hoopl-Dataflow.html#t:Fact">Fact</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:C">C</a> f -&gt; <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:FactBase">FactBase</a> f</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:DataflowLattice" class="def">DataflowLattice</a> a :: <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> <a href="../hoopl-3.10.2.1/src/Compiler-Hoopl-Dataflow.html#DataflowLattice" class="link">Source</a> <a href="#t:DataflowLattice" class="selflink">#</a></p><div class="doc"><p>A transfer function might want to use the logging flag
 to control debugging, as in for example, it updates just one element
 in a big finite map.  We don't want Hoopl to show the whole fact,
 and only the transfer function knows exactly what changed.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:DataflowLattice" class="def">DataflowLattice</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:fact_name" class="def">fact_name</a> :: <a href="../base-4.9.1.0/Data-String.html#t:String">String</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:fact_bot" class="def">fact_bot</a> :: a</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:fact_join" class="def">fact_join</a> :: <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:JoinFun">JoinFun</a> a</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:OldFact" class="def">OldFact</a> a :: <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> <a href="../hoopl-3.10.2.1/src/Compiler-Hoopl-Dataflow.html#OldFact" class="link">Source</a> <a href="#t:OldFact" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:OldFact" class="def">OldFact</a> a</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:NewFact" class="def">NewFact</a> a :: <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> <a href="../hoopl-3.10.2.1/src/Compiler-Hoopl-Dataflow.html#NewFact" class="link">Source</a> <a href="#t:NewFact" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:NewFact" class="def">NewFact</a> a</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">type family</span> <a id="t:Fact" class="def">Fact</a> x f :: <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> <a href="../hoopl-3.10.2.1/src/Compiler-Hoopl-Dataflow.html#Fact" class="link">Source</a> <a href="#t:Fact" class="selflink">#</a></p><div class="subs instances"><p id="control.i:Fact" class="caption collapser" onclick="toggleSection('i:Fact')">Instances</p><div id="section.i:Fact" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:if:Fact:Fact:1" class="instance expander" onclick="toggleSection('i:if:Fact:Fact:1')"></span> <span class="keyword">type</span> <a href="Hoopl-Dataflow.html#t:Fact">Fact</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> f</span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:if:Fact:Fact:1" class="inst-details hide"><div class="src"><span class="keyword">type</span> <a href="Hoopl-Dataflow.html#t:Fact">Fact</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> f = f</div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:if:Fact:Fact:2" class="instance expander" onclick="toggleSection('i:if:Fact:Fact:2')"></span> <span class="keyword">type</span> <a href="Hoopl-Dataflow.html#t:Fact">Fact</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:C">C</a> f</span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:if:Fact:Fact:2" class="inst-details hide"><div class="src"><span class="keyword">type</span> <a href="Hoopl-Dataflow.html#t:Fact">Fact</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:C">C</a> f = <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:FactBase">FactBase</a> f</div></div></td></tr></table></div></div></div><div class="top"><p class="src"><a id="v:mkFactBase" class="def">mkFactBase</a> :: <a href="Hoopl-Dataflow.html#t:DataflowLattice">DataflowLattice</a> f -&gt; [(<a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:Label">Label</a>, f)] -&gt; <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:FactBase">FactBase</a> f <a href="../hoopl-3.10.2.1/src/Compiler-Hoopl-Dataflow.html#mkFactBase" class="link">Source</a> <a href="#v:mkFactBase" class="selflink">#</a></p><div class="doc"><p><code><a href="Hoopl-Dataflow.html#v:mkFactBase">mkFactBase</a></code> creates a <code><a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:FactBase">FactBase</a></code> from a list of (<code><a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:Label">Label</a></code>, fact)
 pairs.  If the same label appears more than once, the relevant facts
 are joined.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ChangeFlag" class="def">ChangeFlag</a> :: <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> <a href="../hoopl-3.10.2.1/src/Compiler-Hoopl-Dataflow.html#ChangeFlag" class="link">Source</a> <a href="#t:ChangeFlag" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:NoChange" class="def">NoChange</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:SomeChange" class="def">SomeChange</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:ChangeFlag" class="caption collapser" onclick="toggleSection('i:ChangeFlag')">Instances</p><div id="section.i:ChangeFlag" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:ChangeFlag:Eq:1" class="instance expander" onclick="toggleSection('i:id:ChangeFlag:Eq:1')"></span> <a href="../base-4.9.1.0/Data-Eq.html#t:Eq">Eq</a> <a href="Hoopl-Dataflow.html#t:ChangeFlag">ChangeFlag</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:ChangeFlag:Eq:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Hoopl-Dataflow.html#t:ChangeFlag">ChangeFlag</a> -&gt; <a href="Hoopl-Dataflow.html#t:ChangeFlag">ChangeFlag</a> -&gt; <a href="../base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Hoopl-Dataflow.html#t:ChangeFlag">ChangeFlag</a> -&gt; <a href="Hoopl-Dataflow.html#t:ChangeFlag">ChangeFlag</a> -&gt; <a href="../base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:ChangeFlag:Ord:2" class="instance expander" onclick="toggleSection('i:id:ChangeFlag:Ord:2')"></span> <a href="../base-4.9.1.0/Data-Ord.html#t:Ord">Ord</a> <a href="Hoopl-Dataflow.html#t:ChangeFlag">ChangeFlag</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:ChangeFlag:Ord:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> :: <a href="Hoopl-Dataflow.html#t:ChangeFlag">ChangeFlag</a> -&gt; <a href="Hoopl-Dataflow.html#t:ChangeFlag">ChangeFlag</a> -&gt; <a href="../base-4.9.1.0/Data-Ord.html#t:Ordering">Ordering</a> <a href="#v:compare" class="selflink">#</a></p><p class="src"><a href="#v:-60-">(&lt;)</a> :: <a href="Hoopl-Dataflow.html#t:ChangeFlag">ChangeFlag</a> -&gt; <a href="Hoopl-Dataflow.html#t:ChangeFlag">ChangeFlag</a> -&gt; <a href="../base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a> <a href="#v:-60-" class="selflink">#</a></p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> :: <a href="Hoopl-Dataflow.html#t:ChangeFlag">ChangeFlag</a> -&gt; <a href="Hoopl-Dataflow.html#t:ChangeFlag">ChangeFlag</a> -&gt; <a href="../base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a> <a href="#v:-60--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62-">(&gt;)</a> :: <a href="Hoopl-Dataflow.html#t:ChangeFlag">ChangeFlag</a> -&gt; <a href="Hoopl-Dataflow.html#t:ChangeFlag">ChangeFlag</a> -&gt; <a href="../base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a> <a href="#v:-62-" class="selflink">#</a></p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> :: <a href="Hoopl-Dataflow.html#t:ChangeFlag">ChangeFlag</a> -&gt; <a href="Hoopl-Dataflow.html#t:ChangeFlag">ChangeFlag</a> -&gt; <a href="../base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a> <a href="#v:-62--61-" class="selflink">#</a></p><p class="src"><a href="#v:max">max</a> :: <a href="Hoopl-Dataflow.html#t:ChangeFlag">ChangeFlag</a> -&gt; <a href="Hoopl-Dataflow.html#t:ChangeFlag">ChangeFlag</a> -&gt; <a href="Hoopl-Dataflow.html#t:ChangeFlag">ChangeFlag</a> <a href="#v:max" class="selflink">#</a></p><p class="src"><a href="#v:min">min</a> :: <a href="Hoopl-Dataflow.html#t:ChangeFlag">ChangeFlag</a> -&gt; <a href="Hoopl-Dataflow.html#t:ChangeFlag">ChangeFlag</a> -&gt; <a href="Hoopl-Dataflow.html#t:ChangeFlag">ChangeFlag</a> <a href="#v:min" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:FwdPass" class="def">FwdPass</a> m n f :: (<a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a>) -&gt; (<a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a>) -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> <a href="../hoopl-3.10.2.1/src/Compiler-Hoopl-Dataflow.html#FwdPass" class="link">Source</a> <a href="#t:FwdPass" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:FwdPass" class="def">FwdPass</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:fp_lattice" class="def">fp_lattice</a> :: <a href="Hoopl-Dataflow.html#t:DataflowLattice">DataflowLattice</a> f</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:fp_transfer" class="def">fp_transfer</a> :: <a href="Hoopl-Dataflow.html#t:FwdTransfer">FwdTransfer</a> n f</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:fp_rewrite" class="def">fp_rewrite</a> :: <a href="Hoopl-Dataflow.html#t:FwdRewrite">FwdRewrite</a> m n f</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:FwdTransfer" class="def">FwdTransfer</a> n f :: (<a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a>) -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> <a href="../hoopl-3.10.2.1/src/Compiler-Hoopl-Dataflow.html#FwdTransfer" class="link">Source</a> <a href="#t:FwdTransfer" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkFTransfer" class="def">mkFTransfer</a> :: (<span class="keyword">forall</span> e x. n e x -&gt; f -&gt; <a href="Hoopl-Dataflow.html#t:Fact">Fact</a> x f) -&gt; <a href="Hoopl-Dataflow.html#t:FwdTransfer">FwdTransfer</a> n f <a href="../hoopl-3.10.2.1/src/Compiler-Hoopl-Dataflow.html#mkFTransfer" class="link">Source</a> <a href="#v:mkFTransfer" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkFTransfer3" class="def">mkFTransfer3</a> :: (n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:C">C</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> -&gt; f -&gt; f) -&gt; (n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> -&gt; f -&gt; f) -&gt; (n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:C">C</a> -&gt; f -&gt; <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:FactBase">FactBase</a> f) -&gt; <a href="Hoopl-Dataflow.html#t:FwdTransfer">FwdTransfer</a> n f <a href="../hoopl-3.10.2.1/src/Compiler-Hoopl-Dataflow.html#mkFTransfer3" class="link">Source</a> <a href="#v:mkFTransfer3" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getFTransfer3" class="def">getFTransfer3</a> :: <a href="Hoopl-Dataflow.html#t:FwdTransfer">FwdTransfer</a> n f -&gt; (n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:C">C</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> -&gt; f -&gt; f, n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> -&gt; f -&gt; f, n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:C">C</a> -&gt; f -&gt; <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:FactBase">FactBase</a> f) <a href="../hoopl-3.10.2.1/src/Compiler-Hoopl-Dataflow.html#getFTransfer3" class="link">Source</a> <a href="#v:getFTransfer3" class="selflink">#</a></p></div><h1 id="g:1">Respecting Fuel</h1><div class="doc"><p>A value of type <code><a href="Hoopl-Dataflow.html#t:FwdRewrite">FwdRewrite</a></code> or <code><a href="Hoopl-Dataflow.html#t:BwdRewrite">BwdRewrite</a></code> <em>respects fuel</em> if
 any function contained within the value satisfies the following properties:</p><ul><li>When fuel is exhausted, it always returns <code><a href="../base-4.9.1.0/Data-Maybe.html#v:Nothing">Nothing</a></code>.</li><li>When it returns <code>Just g rw</code>, it consumes <em>exactly</em> one unit
     of fuel, and new rewrite <code>rw</code> also respects fuel.</li></ul><p>Provided that functions passed to <code><a href="Hoopl-Dataflow.html#v:mkFRewrite">mkFRewrite</a></code>, <code><a href="Hoopl-Dataflow.html#v:mkFRewrite3">mkFRewrite3</a></code>,
 <code><a href="Hoopl-Dataflow.html#v:mkBRewrite">mkBRewrite</a></code>, and <code><a href="Hoopl-Dataflow.html#v:mkBRewrite3">mkBRewrite3</a></code> are not aware of the fuel supply,
 the results respect fuel.</p><p>It is an <em>unchecked</em> run-time error for the argument passed to <code><a href="Hoopl-Dataflow.html#v:wrapFR">wrapFR</a></code>,
 <code><a href="Hoopl-Dataflow.html#v:wrapFR2">wrapFR2</a></code>, <code><a href="Hoopl-Dataflow.html#v:wrapBR">wrapBR</a></code>, or <code>warpBR2</code> to return a function that does not respect fuel.</p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:FwdRewrite" class="def">FwdRewrite</a> m n f :: (<a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a>) -&gt; (<a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a>) -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> <a href="../hoopl-3.10.2.1/src/Compiler-Hoopl-Dataflow.html#FwdRewrite" class="link">Source</a> <a href="#t:FwdRewrite" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkFRewrite" class="def">mkFRewrite</a> :: <a href="../hoopl-3.10.2.1/Compiler-Hoopl.html#t:FuelMonad">FuelMonad</a> m =&gt; (<span class="keyword">forall</span> e x. n e x -&gt; f -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (Graph n e x))) -&gt; <a href="Hoopl-Dataflow.html#t:FwdRewrite">FwdRewrite</a> m n f <a href="../hoopl-3.10.2.1/src/Compiler-Hoopl-Dataflow.html#mkFRewrite" class="link">Source</a> <a href="#v:mkFRewrite" class="selflink">#</a></p><div class="doc"><p>Functions passed to <code><a href="Hoopl-Dataflow.html#v:mkFRewrite">mkFRewrite</a></code> should not be aware of the fuel supply.
 The result returned by <code><a href="Hoopl-Dataflow.html#v:mkFRewrite">mkFRewrite</a></code> respects fuel.</p></div></div><div class="top"><p class="src"><a id="v:mkFRewrite3" class="def">mkFRewrite3</a> :: <span class="keyword">forall</span> n f. (n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:C">C</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> -&gt; f -&gt; <a href="UniqSupply.html#t:UniqSM">UniqSM</a> (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:Graph">Graph</a> n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:C">C</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a>))) -&gt; (n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> -&gt; f -&gt; <a href="UniqSupply.html#t:UniqSM">UniqSM</a> (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:Graph">Graph</a> n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a>))) -&gt; (n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:C">C</a> -&gt; f -&gt; <a href="UniqSupply.html#t:UniqSM">UniqSM</a> (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:Graph">Graph</a> n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:C">C</a>))) -&gt; <a href="Hoopl-Dataflow.html#t:FwdRewrite">FwdRewrite</a> <a href="UniqSupply.html#t:UniqSM">UniqSM</a> n f <a href="src/Hoopl-Dataflow.html#mkFRewrite3" class="link">Source</a> <a href="#v:mkFRewrite3" class="selflink">#</a></p><div class="doc"><p>Functions passed to <code><a href="Hoopl-Dataflow.html#v:mkFRewrite3">mkFRewrite3</a></code> should not be aware of the fuel supply.
 The result returned by <code><a href="Hoopl-Dataflow.html#v:mkFRewrite3">mkFRewrite3</a></code> respects fuel.</p></div></div><div class="top"><p class="src"><a id="v:getFRewrite3" class="def">getFRewrite3</a> :: <a href="Hoopl-Dataflow.html#t:FwdRewrite">FwdRewrite</a> m n f -&gt; (n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:C">C</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> -&gt; f -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (Graph n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:C">C</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a>, <a href="Hoopl-Dataflow.html#t:FwdRewrite">FwdRewrite</a> m n f)), n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> -&gt; f -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (Graph n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a>, <a href="Hoopl-Dataflow.html#t:FwdRewrite">FwdRewrite</a> m n f)), n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:C">C</a> -&gt; f -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (Graph n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:C">C</a>, <a href="Hoopl-Dataflow.html#t:FwdRewrite">FwdRewrite</a> m n f))) <a href="../hoopl-3.10.2.1/src/Compiler-Hoopl-Dataflow.html#getFRewrite3" class="link">Source</a> <a href="#v:getFRewrite3" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:noFwdRewrite" class="def">noFwdRewrite</a> :: <a href="Hoopl-Dataflow.html#t:FwdRewrite">FwdRewrite</a> <a href="UniqSupply.html#t:UniqSM">UniqSM</a> n f <a href="src/Hoopl-Dataflow.html#noFwdRewrite" class="link">Source</a> <a href="#v:noFwdRewrite" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:wrapFR" class="def">wrapFR</a> <a href="../hoopl-3.10.2.1/src/Compiler-Hoopl-Dataflow.html#wrapFR" class="link">Source</a> <a href="#v:wrapFR" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<span class="keyword">forall</span> e x. (n e x -&gt; f -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (Graph n e x, <a href="Hoopl-Dataflow.html#t:FwdRewrite">FwdRewrite</a> m n f))) -&gt; n' e x -&gt; f' -&gt; m' (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (Graph n' e x, <a href="Hoopl-Dataflow.html#t:FwdRewrite">FwdRewrite</a> m' n' f')))</td><td class="doc"><p>This argument may assume that any function passed to it
 respects fuel, and it must return a result that respects fuel.</p></td></tr><tr><td class="src">-&gt; <a href="Hoopl-Dataflow.html#t:FwdRewrite">FwdRewrite</a> m n f</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Hoopl-Dataflow.html#t:FwdRewrite">FwdRewrite</a> m' n' f'</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:wrapFR2" class="def">wrapFR2</a> <a href="../hoopl-3.10.2.1/src/Compiler-Hoopl-Dataflow.html#wrapFR2" class="link">Source</a> <a href="#v:wrapFR2" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<span class="keyword">forall</span> e x. (n1 e x -&gt; f1 -&gt; m1 (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (Graph n1 e x, <a href="Hoopl-Dataflow.html#t:FwdRewrite">FwdRewrite</a> m1 n1 f1))) -&gt; (n2 e x -&gt; f2 -&gt; m2 (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (Graph n2 e x, <a href="Hoopl-Dataflow.html#t:FwdRewrite">FwdRewrite</a> m2 n2 f2))) -&gt; n3 e x -&gt; f3 -&gt; m3 (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (Graph n3 e x, <a href="Hoopl-Dataflow.html#t:FwdRewrite">FwdRewrite</a> m3 n3 f3)))</td><td class="doc"><p>This argument may assume that any function passed to it
 respects fuel, and it must return a result that respects fuel.</p></td></tr><tr><td class="src">-&gt; <a href="Hoopl-Dataflow.html#t:FwdRewrite">FwdRewrite</a> m1 n1 f1</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Hoopl-Dataflow.html#t:FwdRewrite">FwdRewrite</a> m2 n2 f2</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Hoopl-Dataflow.html#t:FwdRewrite">FwdRewrite</a> m3 n3 f3</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:BwdPass" class="def">BwdPass</a> m n f :: (<a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a>) -&gt; (<a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a>) -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> <a href="../hoopl-3.10.2.1/src/Compiler-Hoopl-Dataflow.html#BwdPass" class="link">Source</a> <a href="#t:BwdPass" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:BwdPass" class="def">BwdPass</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:bp_lattice" class="def">bp_lattice</a> :: <a href="Hoopl-Dataflow.html#t:DataflowLattice">DataflowLattice</a> f</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:bp_transfer" class="def">bp_transfer</a> :: <a href="Hoopl-Dataflow.html#t:BwdTransfer">BwdTransfer</a> n f</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:bp_rewrite" class="def">bp_rewrite</a> :: <a href="Hoopl-Dataflow.html#t:BwdRewrite">BwdRewrite</a> m n f</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:BwdTransfer" class="def">BwdTransfer</a> n f :: (<a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a>) -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> <a href="../hoopl-3.10.2.1/src/Compiler-Hoopl-Dataflow.html#BwdTransfer" class="link">Source</a> <a href="#t:BwdTransfer" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkBTransfer" class="def">mkBTransfer</a> :: (<span class="keyword">forall</span> e x. n e x -&gt; <a href="Hoopl-Dataflow.html#t:Fact">Fact</a> x f -&gt; f) -&gt; <a href="Hoopl-Dataflow.html#t:BwdTransfer">BwdTransfer</a> n f <a href="../hoopl-3.10.2.1/src/Compiler-Hoopl-Dataflow.html#mkBTransfer" class="link">Source</a> <a href="#v:mkBTransfer" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkBTransfer3" class="def">mkBTransfer3</a> :: (n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:C">C</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> -&gt; f -&gt; f) -&gt; (n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> -&gt; f -&gt; f) -&gt; (n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:C">C</a> -&gt; <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:FactBase">FactBase</a> f -&gt; f) -&gt; <a href="Hoopl-Dataflow.html#t:BwdTransfer">BwdTransfer</a> n f <a href="../hoopl-3.10.2.1/src/Compiler-Hoopl-Dataflow.html#mkBTransfer3" class="link">Source</a> <a href="#v:mkBTransfer3" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getBTransfer3" class="def">getBTransfer3</a> :: <a href="Hoopl-Dataflow.html#t:BwdTransfer">BwdTransfer</a> n f -&gt; (n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:C">C</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> -&gt; f -&gt; f, n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> -&gt; f -&gt; f, n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:C">C</a> -&gt; <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:FactBase">FactBase</a> f -&gt; f) <a href="../hoopl-3.10.2.1/src/Compiler-Hoopl-Dataflow.html#getBTransfer3" class="link">Source</a> <a href="#v:getBTransfer3" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:wrapBR" class="def">wrapBR</a> <a href="../hoopl-3.10.2.1/src/Compiler-Hoopl-Dataflow.html#wrapBR" class="link">Source</a> <a href="#v:wrapBR" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<span class="keyword">forall</span> e x. <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:Shape">Shape</a> x -&gt; (n e x -&gt; <a href="Hoopl-Dataflow.html#t:Fact">Fact</a> x f -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (Graph n e x, <a href="Hoopl-Dataflow.html#t:BwdRewrite">BwdRewrite</a> m n f))) -&gt; n' e x -&gt; <a href="Hoopl-Dataflow.html#t:Fact">Fact</a> x f' -&gt; m' (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (Graph n' e x, <a href="Hoopl-Dataflow.html#t:BwdRewrite">BwdRewrite</a> m' n' f')))</td><td class="doc"><p>This argument may assume that any function passed to it
 respects fuel, and it must return a result that respects fuel.</p></td></tr><tr><td class="src">-&gt; <a href="Hoopl-Dataflow.html#t:BwdRewrite">BwdRewrite</a> m n f</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Hoopl-Dataflow.html#t:BwdRewrite">BwdRewrite</a> m' n' f'</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:wrapBR2" class="def">wrapBR2</a> <a href="../hoopl-3.10.2.1/src/Compiler-Hoopl-Dataflow.html#wrapBR2" class="link">Source</a> <a href="#v:wrapBR2" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<span class="keyword">forall</span> e x. <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:Shape">Shape</a> x -&gt; (n1 e x -&gt; <a href="Hoopl-Dataflow.html#t:Fact">Fact</a> x f1 -&gt; m1 (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (Graph n1 e x, <a href="Hoopl-Dataflow.html#t:BwdRewrite">BwdRewrite</a> m1 n1 f1))) -&gt; (n2 e x -&gt; <a href="Hoopl-Dataflow.html#t:Fact">Fact</a> x f2 -&gt; m2 (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (Graph n2 e x, <a href="Hoopl-Dataflow.html#t:BwdRewrite">BwdRewrite</a> m2 n2 f2))) -&gt; n3 e x -&gt; <a href="Hoopl-Dataflow.html#t:Fact">Fact</a> x f3 -&gt; m3 (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (Graph n3 e x, <a href="Hoopl-Dataflow.html#t:BwdRewrite">BwdRewrite</a> m3 n3 f3)))</td><td class="doc"><p>This argument may assume that any function passed to it
 respects fuel, and it must return a result that respects fuel.</p></td></tr><tr><td class="src">-&gt; <a href="Hoopl-Dataflow.html#t:BwdRewrite">BwdRewrite</a> m1 n1 f1</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Hoopl-Dataflow.html#t:BwdRewrite">BwdRewrite</a> m2 n2 f2</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Hoopl-Dataflow.html#t:BwdRewrite">BwdRewrite</a> m3 n3 f3</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:BwdRewrite" class="def">BwdRewrite</a> m n f :: (<a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a>) -&gt; (<a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a>) -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> <a href="../hoopl-3.10.2.1/src/Compiler-Hoopl-Dataflow.html#BwdRewrite" class="link">Source</a> <a href="#t:BwdRewrite" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkBRewrite" class="def">mkBRewrite</a> :: <a href="../hoopl-3.10.2.1/Compiler-Hoopl.html#t:FuelMonad">FuelMonad</a> m =&gt; (<span class="keyword">forall</span> e x. n e x -&gt; <a href="Hoopl-Dataflow.html#t:Fact">Fact</a> x f -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (Graph n e x))) -&gt; <a href="Hoopl-Dataflow.html#t:BwdRewrite">BwdRewrite</a> m n f <a href="../hoopl-3.10.2.1/src/Compiler-Hoopl-Dataflow.html#mkBRewrite" class="link">Source</a> <a href="#v:mkBRewrite" class="selflink">#</a></p><div class="doc"><p>Functions passed to <code><a href="Hoopl-Dataflow.html#v:mkBRewrite">mkBRewrite</a></code> should not be aware of the fuel supply.
 The result returned by <code><a href="Hoopl-Dataflow.html#v:mkBRewrite">mkBRewrite</a></code> respects fuel.</p></div></div><div class="top"><p class="src"><a id="v:mkBRewrite3" class="def">mkBRewrite3</a> :: <span class="keyword">forall</span> n f. (n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:C">C</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> -&gt; f -&gt; <a href="UniqSupply.html#t:UniqSM">UniqSM</a> (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:Graph">Graph</a> n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:C">C</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a>))) -&gt; (n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> -&gt; f -&gt; <a href="UniqSupply.html#t:UniqSM">UniqSM</a> (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:Graph">Graph</a> n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a>))) -&gt; (n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:C">C</a> -&gt; <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:FactBase">FactBase</a> f -&gt; <a href="UniqSupply.html#t:UniqSM">UniqSM</a> (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:Graph">Graph</a> n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:C">C</a>))) -&gt; <a href="Hoopl-Dataflow.html#t:BwdRewrite">BwdRewrite</a> <a href="UniqSupply.html#t:UniqSM">UniqSM</a> n f <a href="src/Hoopl-Dataflow.html#mkBRewrite3" class="link">Source</a> <a href="#v:mkBRewrite3" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getBRewrite3" class="def">getBRewrite3</a> :: <a href="Hoopl-Dataflow.html#t:BwdRewrite">BwdRewrite</a> m n f -&gt; (n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:C">C</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> -&gt; f -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (Graph n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:C">C</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a>, <a href="Hoopl-Dataflow.html#t:BwdRewrite">BwdRewrite</a> m n f)), n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> -&gt; f -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (Graph n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a>, <a href="Hoopl-Dataflow.html#t:BwdRewrite">BwdRewrite</a> m n f)), n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:C">C</a> -&gt; <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:FactBase">FactBase</a> f -&gt; m (<a href="../base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (Graph n <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:O">O</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:C">C</a>, <a href="Hoopl-Dataflow.html#t:BwdRewrite">BwdRewrite</a> m n f))) <a href="../hoopl-3.10.2.1/src/Compiler-Hoopl-Dataflow.html#getBRewrite3" class="link">Source</a> <a href="#v:getBRewrite3" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:noBwdRewrite" class="def">noBwdRewrite</a> :: <a href="Hoopl-Dataflow.html#t:BwdRewrite">BwdRewrite</a> <a href="UniqSupply.html#t:UniqSM">UniqSM</a> n f <a href="src/Hoopl-Dataflow.html#noBwdRewrite" class="link">Source</a> <a href="#v:noBwdRewrite" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:analyzeAndRewriteFwd" class="def">analyzeAndRewriteFwd</a> :: <span class="keyword">forall</span> n f e x. <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:NonLocal">NonLocal</a> n =&gt; <a href="Hoopl-Dataflow.html#t:FwdPass">FwdPass</a> <a href="UniqSupply.html#t:UniqSM">UniqSM</a> n f -&gt; <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:MaybeC">MaybeC</a> e [<a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:Label">Label</a>] -&gt; <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:Graph">Graph</a> n e x -&gt; <a href="Hoopl-Dataflow.html#t:Fact">Fact</a> e f -&gt; <a href="UniqSupply.html#t:UniqSM">UniqSM</a> (<a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:Graph">Graph</a> n e x, <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:FactBase">FactBase</a> f, <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:MaybeO">MaybeO</a> x f) <a href="src/Hoopl-Dataflow.html#analyzeAndRewriteFwd" class="link">Source</a> <a href="#v:analyzeAndRewriteFwd" class="selflink">#</a></p><div class="doc"><p>if the graph being analyzed is open at the entry, there must
   be no other entry point, or all goes horribly wrong...</p></div></div><div class="top"><p class="src"><a id="v:analyzeAndRewriteBwd" class="def">analyzeAndRewriteBwd</a> :: <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:NonLocal">NonLocal</a> n =&gt; <a href="Hoopl-Dataflow.html#t:BwdPass">BwdPass</a> <a href="UniqSupply.html#t:UniqSM">UniqSM</a> n f -&gt; <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:MaybeC">MaybeC</a> e [<a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:Label">Label</a>] -&gt; <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:Graph">Graph</a> n e x -&gt; <a href="Hoopl-Dataflow.html#t:Fact">Fact</a> x f -&gt; <a href="UniqSupply.html#t:UniqSM">UniqSM</a> (<a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:Graph">Graph</a> n e x, <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:FactBase">FactBase</a> f, <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:MaybeO">MaybeO</a> e f) <a href="src/Hoopl-Dataflow.html#analyzeAndRewriteBwd" class="link">Source</a> <a href="#v:analyzeAndRewriteBwd" class="selflink">#</a></p><div class="doc"><p>if the graph being analyzed is open at the exit, I don't
   quite understand the implications of possible other exits</p></div></div><div class="top"><p class="src"><a id="v:analyzeFwd" class="def">analyzeFwd</a> :: <span class="keyword">forall</span> n f e. <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:NonLocal">NonLocal</a> n =&gt; <a href="Hoopl-Dataflow.html#t:FwdPass">FwdPass</a> <a href="UniqSupply.html#t:UniqSM">UniqSM</a> n f -&gt; <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:MaybeC">MaybeC</a> e [<a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:Label">Label</a>] -&gt; <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:Graph">Graph</a> n e <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:C">C</a> -&gt; <a href="Hoopl-Dataflow.html#t:Fact">Fact</a> e f -&gt; <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:FactBase">FactBase</a> f <a href="src/Hoopl-Dataflow.html#analyzeFwd" class="link">Source</a> <a href="#v:analyzeFwd" class="selflink">#</a></p><div class="doc"><p>if the graph being analyzed is open at the entry, there must
   be no other entry point, or all goes horribly wrong...</p></div></div><div class="top"><p class="src"><a id="v:analyzeFwdBlocks" class="def">analyzeFwdBlocks</a> :: <span class="keyword">forall</span> n f e. <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:NonLocal">NonLocal</a> n =&gt; <a href="Hoopl-Dataflow.html#t:FwdPass">FwdPass</a> <a href="UniqSupply.html#t:UniqSM">UniqSM</a> n f -&gt; <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:MaybeC">MaybeC</a> e [<a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:Label">Label</a>] -&gt; <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:Graph">Graph</a> n e <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:C">C</a> -&gt; <a href="Hoopl-Dataflow.html#t:Fact">Fact</a> e f -&gt; <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:FactBase">FactBase</a> f <a href="src/Hoopl-Dataflow.html#analyzeFwdBlocks" class="link">Source</a> <a href="#v:analyzeFwdBlocks" class="selflink">#</a></p><div class="doc"><p>if the graph being analyzed is open at the entry, there must
   be no other entry point, or all goes horribly wrong...</p></div></div><div class="top"><p class="src"><a id="v:analyzeBwd" class="def">analyzeBwd</a> :: <span class="keyword">forall</span> n f e. <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:NonLocal">NonLocal</a> n =&gt; <a href="Hoopl-Dataflow.html#t:BwdPass">BwdPass</a> <a href="UniqSupply.html#t:UniqSM">UniqSM</a> n f -&gt; <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:MaybeC">MaybeC</a> e [<a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:Label">Label</a>] -&gt; <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:Graph">Graph</a> n e <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:C">C</a> -&gt; <a href="Hoopl-Dataflow.html#t:Fact">Fact</a> <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:C">C</a> f -&gt; <a href="../hoopl-3.10.2.1/Compiler-Hoopl-Internals.html#t:FactBase">FactBase</a> f <a href="src/Hoopl-Dataflow.html#analyzeBwd" class="link">Source</a> <a href="#v:analyzeBwd" class="selflink">#</a></p><div class="doc"><p>if the graph being analyzed is open at the entry, there must
   be no other entry point, or all goes horribly wrong...</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.17.3</p></div></body></html>