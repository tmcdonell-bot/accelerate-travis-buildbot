<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Foreign.CUDA.Driver.Marshal</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Foreign-CUDA-Driver-Marshal.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Foreign-CUDA-Driver-Marshal.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">cuda-0.7.1.0: FFI binding to the CUDA interface for programming NVIDIA GPUs</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Copyright</th><td>[2009..2014] Trevor L. McDonell</td></tr><tr><th>License</th><td>BSD</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell98</td></tr></table><p class="caption">Foreign.CUDA.Driver.Marshal</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Host Allocation</a></li><li><a href="#g:2">Device Allocation</a></li><li><a href="#g:3">Unified Memory Allocation</a></li><li><a href="#g:4">Marshalling</a></li><li><a href="#g:5">Combined Allocation and Marshalling</a></li><li><a href="#g:6">Utility</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Memory management for low-level driver interface</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:AllocFlag">AllocFlag</a><ul class="subs"><li>= <a href="#v:Portable">Portable</a></li><li>| <a href="#v:DeviceMapped">DeviceMapped</a></li><li>| <a href="#v:WriteCombined">WriteCombined</a></li></ul></li><li class="src short"><a href="#v:mallocHostArray">mallocHostArray</a> :: <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a =&gt; [<a href="Foreign-CUDA-Driver-Marshal.html#t:AllocFlag">AllocFlag</a>] -&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> (<a href="Foreign-CUDA-Types.html#t:HostPtr">HostPtr</a> a)</li><li class="src short"><a href="#v:mallocHostForeignPtr">mallocHostForeignPtr</a> :: <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a =&gt; [<a href="Foreign-CUDA-Driver-Marshal.html#t:AllocFlag">AllocFlag</a>] -&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> (<a href="../base-4.7.0.2/Foreign-ForeignPtr-Safe.html#t:ForeignPtr">ForeignPtr</a> a)</li><li class="src short"><a href="#v:freeHost">freeHost</a> ::  <a href="Foreign-CUDA-Types.html#t:HostPtr">HostPtr</a> a -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:registerArray">registerArray</a> :: <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a =&gt; [<a href="Foreign-CUDA-Driver-Marshal.html#t:AllocFlag">AllocFlag</a>] -&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.7.0.2/Foreign-Ptr.html#t:Ptr">Ptr</a> a -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> (<a href="Foreign-CUDA-Types.html#t:HostPtr">HostPtr</a> a)</li><li class="src short"><a href="#v:unregisterArray">unregisterArray</a> ::  <a href="Foreign-CUDA-Types.html#t:HostPtr">HostPtr</a> a -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> (<a href="../base-4.7.0.2/Foreign-Ptr.html#t:Ptr">Ptr</a> a)</li><li class="src short"><a href="#v:mallocArray">mallocArray</a> :: <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a =&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> (<a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a)</li><li class="src short"><a href="#v:allocaArray">allocaArray</a> :: <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a =&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; (<a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> b) -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> b</li><li class="src short"><a href="#v:free">free</a> ::  <a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><span class="keyword">data</span> <a href="#t:AttachFlag">AttachFlag</a></li><li class="src short"><a href="#v:mallocManagedArray">mallocManagedArray</a> :: <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a =&gt; [<a href="Foreign-CUDA-Driver-Marshal.html#t:AttachFlag">AttachFlag</a>] -&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> (<a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a)</li><li class="src short"><a href="#v:peekArray">peekArray</a> :: <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a =&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a -&gt; <a href="../base-4.7.0.2/Foreign-Ptr.html#t:Ptr">Ptr</a> a -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:peekArrayAsync">peekArrayAsync</a> :: <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a =&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a -&gt; <a href="Foreign-CUDA-Types.html#t:HostPtr">HostPtr</a> a -&gt; <a href="../base-4.7.0.2/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Foreign-CUDA-Types.html#t:Stream">Stream</a> -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:peekArray2D">peekArray2D</a> :: <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a =&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a -&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.7.0.2/Foreign-Ptr.html#t:Ptr">Ptr</a> a -&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:peekArray2DAsync">peekArray2DAsync</a> :: <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a =&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a -&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="Foreign-CUDA-Types.html#t:HostPtr">HostPtr</a> a -&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.7.0.2/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Foreign-CUDA-Types.html#t:Stream">Stream</a> -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:peekListArray">peekListArray</a> :: <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a =&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> [a]</li><li class="src short"><a href="#v:pokeArray">pokeArray</a> :: <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a =&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.7.0.2/Foreign-Ptr.html#t:Ptr">Ptr</a> a -&gt; <a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:pokeArrayAsync">pokeArrayAsync</a> :: <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a =&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="Foreign-CUDA-Types.html#t:HostPtr">HostPtr</a> a -&gt; <a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a -&gt; <a href="../base-4.7.0.2/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Foreign-CUDA-Types.html#t:Stream">Stream</a> -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:pokeArray2D">pokeArray2D</a> :: <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a =&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.7.0.2/Foreign-Ptr.html#t:Ptr">Ptr</a> a -&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a -&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:pokeArray2DAsync">pokeArray2DAsync</a> :: <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a =&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="Foreign-CUDA-Types.html#t:HostPtr">HostPtr</a> a -&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a -&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.7.0.2/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Foreign-CUDA-Types.html#t:Stream">Stream</a> -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:pokeListArray">pokeListArray</a> :: <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a =&gt; [a] -&gt; <a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:copyArray">copyArray</a> :: <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a =&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a -&gt; <a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:copyArrayAsync">copyArrayAsync</a> :: <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a =&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a -&gt; <a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a -&gt; <a href="../base-4.7.0.2/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Foreign-CUDA-Types.html#t:Stream">Stream</a> -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:copyArray2D">copyArray2D</a> :: <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a =&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a -&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a -&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:copyArray2DAsync">copyArray2DAsync</a> :: <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a =&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a -&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a -&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.7.0.2/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Foreign-CUDA-Types.html#t:Stream">Stream</a> -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:copyArrayPeer">copyArrayPeer</a> :: <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a =&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a -&gt; <a href="Foreign-CUDA-Driver-Context-Base.html#t:Context">Context</a> -&gt; <a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a -&gt; <a href="Foreign-CUDA-Driver-Context-Base.html#t:Context">Context</a> -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:copyArrayPeerAsync">copyArrayPeerAsync</a> :: <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a =&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a -&gt; <a href="Foreign-CUDA-Driver-Context-Base.html#t:Context">Context</a> -&gt; <a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a -&gt; <a href="Foreign-CUDA-Driver-Context-Base.html#t:Context">Context</a> -&gt; <a href="../base-4.7.0.2/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Foreign-CUDA-Types.html#t:Stream">Stream</a> -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:newListArray">newListArray</a> :: <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a =&gt; [a] -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> (<a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a)</li><li class="src short"><a href="#v:newListArrayLen">newListArrayLen</a> :: <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a =&gt; [a] -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> (<a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a, <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a>)</li><li class="src short"><a href="#v:withListArray">withListArray</a> :: <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a =&gt; [a] -&gt; (<a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> b) -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> b</li><li class="src short"><a href="#v:withListArrayLen">withListArrayLen</a> :: <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a =&gt; [a] -&gt; (<a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> b) -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> b</li><li class="src short"><a href="#v:memset">memset</a> :: <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a =&gt; <a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a -&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; a -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:memsetAsync">memsetAsync</a> :: <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a =&gt; <a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a -&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; a -&gt; <a href="../base-4.7.0.2/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Foreign-CUDA-Types.html#t:Stream">Stream</a> -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:getDevicePtr">getDevicePtr</a> ::  [<a href="Foreign-CUDA-Driver-Marshal.html#t:AllocFlag">AllocFlag</a>] -&gt; <a href="Foreign-CUDA-Types.html#t:HostPtr">HostPtr</a> a -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> (<a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a)</li><li class="src short"><a href="#v:getBasePtr">getBasePtr</a> ::  <a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> (<a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a, <a href="../base-4.7.0.2/Data-Int.html#t:Int64">Int64</a>)</li><li class="src short"><a href="#v:getMemInfo">getMemInfo</a> :: <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> (<a href="../base-4.7.0.2/Data-Int.html#t:Int64">Int64</a>, <a href="../base-4.7.0.2/Data-Int.html#t:Int64">Int64</a>)</li></ul></div><div id="interface"><h1 id="g:1">Host Allocation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:AllocFlag" class="def">AllocFlag</a> <a href="src/Foreign-CUDA-Driver-Marshal.html#AllocFlag" class="link">Source</a></p><div class="doc"><p>Options for host allocation</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Portable" class="def">Portable</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:DeviceMapped" class="def">DeviceMapped</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:WriteCombined" class="def">WriteCombined</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:AllocFlag" class="caption collapser" onclick="toggleSection('i:AllocFlag')">Instances</p><div id="section.i:AllocFlag" class="show"><table><tr><td class="src"><a href="../base-4.7.0.2/Prelude.html#t:Bounded">Bounded</a> <a href="Foreign-CUDA-Driver-Marshal.html#t:AllocFlag">AllocFlag</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="../base-4.7.0.2/Prelude.html#t:Enum">Enum</a> <a href="Foreign-CUDA-Driver-Marshal.html#t:AllocFlag">AllocFlag</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="../base-4.7.0.2/Data-Eq.html#t:Eq">Eq</a> <a href="Foreign-CUDA-Driver-Marshal.html#t:AllocFlag">AllocFlag</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="../base-4.7.0.2/Text-Show.html#t:Show">Show</a> <a href="Foreign-CUDA-Driver-Marshal.html#t:AllocFlag">AllocFlag</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:mallocHostArray" class="def">mallocHostArray</a> :: <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a =&gt; [<a href="Foreign-CUDA-Driver-Marshal.html#t:AllocFlag">AllocFlag</a>] -&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> (<a href="Foreign-CUDA-Types.html#t:HostPtr">HostPtr</a> a) <a href="src/Foreign-CUDA-Driver-Marshal.html#mallocHostArray" class="link">Source</a></p><div class="doc"><p>Allocate a section of linear memory on the host which is page-locked and
 directly accessible from the device. The storage is sufficient to hold the
 given number of elements of a storable type.</p><p>Note that since the amount of pageable memory is thusly reduced, overall
 system performance may suffer. This is best used sparingly to allocate
 staging areas for data exchange.</p><p>Host memory allocated in this way is automatically and immediately
 accessible to all contexts on all devices which support unified
 addressing.</p><p><a href="http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1gdd8311286d2c2691605362c689bc64e0">http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1gdd8311286d2c2691605362c689bc64e0</a></p></div></div><div class="top"><p class="src"><a name="v:mallocHostForeignPtr" class="def">mallocHostForeignPtr</a> :: <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a =&gt; [<a href="Foreign-CUDA-Driver-Marshal.html#t:AllocFlag">AllocFlag</a>] -&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> (<a href="../base-4.7.0.2/Foreign-ForeignPtr-Safe.html#t:ForeignPtr">ForeignPtr</a> a) <a href="src/Foreign-CUDA-Driver-Marshal.html#mallocHostForeignPtr" class="link">Source</a></p><div class="doc"><p>As <code><a href="Foreign-CUDA-Driver-Marshal.html#v:mallocHostArray">mallocHostArray</a></code>, but return a <code><a href="../base-4.7.0.2/Foreign-ForeignPtr-Safe.html#t:ForeignPtr">ForeignPtr</a></code> instead. The array will be
 deallocated automatically once the last reference to the <code><a href="../base-4.7.0.2/Foreign-ForeignPtr-Safe.html#t:ForeignPtr">ForeignPtr</a></code> is
 dropped.</p></div></div><div class="top"><p class="src"><a name="v:freeHost" class="def">freeHost</a> ::  <a href="Foreign-CUDA-Types.html#t:HostPtr">HostPtr</a> a -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> () <a href="src/Foreign-CUDA-Driver-Marshal.html#freeHost" class="link">Source</a></p><div class="doc"><p>Free a section of page-locked host memory.</p><p><a href="http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1g62e0fdbe181dab6b1c90fa1a51c7b92c">http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1g62e0fdbe181dab6b1c90fa1a51c7b92c</a></p></div></div><div class="top"><p class="src"><a name="v:registerArray" class="def">registerArray</a> :: <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a =&gt; [<a href="Foreign-CUDA-Driver-Marshal.html#t:AllocFlag">AllocFlag</a>] -&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.7.0.2/Foreign-Ptr.html#t:Ptr">Ptr</a> a -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> (<a href="Foreign-CUDA-Types.html#t:HostPtr">HostPtr</a> a) <a href="src/Foreign-CUDA-Driver-Marshal.html#registerArray" class="link">Source</a></p><div class="doc"><p>Page-locks the specified array (on the host) and maps it for the device(s) as
 specified by the given allocation flags. Subsequently, the memory is accessed
 directly by the device so can be read and written with much higher bandwidth
 than pageable memory that has not been registered. The memory range is added
 to the same tracking mechanism as <code><a href="Foreign-CUDA-Driver-Marshal.html#v:mallocHostArray">mallocHostArray</a></code> to automatically
 accelerate calls to functions such as <code><a href="Foreign-CUDA-Driver-Marshal.html#v:pokeArray">pokeArray</a></code>.</p><p>Note that page-locking excessive amounts of memory may degrade system
 performance, since it reduces the amount of pageable memory available. This
 is best used sparingly to allocate staging areas for data exchange.</p><p>This function has limited support on Mac OS X. OS 10.7 or later is
 required.</p><p>Requires CUDA-4.0.</p><p><a href="http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1gf0a9fe11544326dabd743b7aa6b54223">http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1gf0a9fe11544326dabd743b7aa6b54223</a></p></div></div><div class="top"><p class="src"><a name="v:unregisterArray" class="def">unregisterArray</a> ::  <a href="Foreign-CUDA-Types.html#t:HostPtr">HostPtr</a> a -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> (<a href="../base-4.7.0.2/Foreign-Ptr.html#t:Ptr">Ptr</a> a) <a href="src/Foreign-CUDA-Driver-Marshal.html#unregisterArray" class="link">Source</a></p><div class="doc"><p>Unmaps the memory from the given pointer, and makes it pageable again.</p><p>Requires CUDA-4.0.</p><p><a href="http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1g63f450c8125359be87b7623b1c0b2a14">http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1g63f450c8125359be87b7623b1c0b2a14</a></p></div></div><h1 id="g:2">Device Allocation</h1><div class="top"><p class="src"><a name="v:mallocArray" class="def">mallocArray</a> :: <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a =&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> (<a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a) <a href="src/Foreign-CUDA-Driver-Marshal.html#mallocArray" class="link">Source</a></p><div class="doc"><p>Allocate a section of linear memory on the device, and return a reference to
 it. The memory is sufficient to hold the given number of elements of storable
 type. It is suitably aligned for any type, and is not cleared.</p><p><a href="http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1gb82d2a09844a58dd9e744dc31e8aa467">http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1gb82d2a09844a58dd9e744dc31e8aa467</a></p></div></div><div class="top"><p class="src"><a name="v:allocaArray" class="def">allocaArray</a> :: <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a =&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; (<a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> b) -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> b <a href="src/Foreign-CUDA-Driver-Marshal.html#allocaArray" class="link">Source</a></p><div class="doc"><p>Execute a computation on the device, passing a pointer to a temporarily
 allocated block of memory sufficient to hold the given number of elements of
 storable type. The memory is freed when the computation terminates (normally
 or via an exception), so the pointer must not be used after this.</p><p>Note that kernel launches can be asynchronous, so you may want to add a
 synchronisation point using <code><a href="Foreign-CUDA-Driver-Context.html#v:sync">sync</a></code> as part
 of the continuation.</p></div></div><div class="top"><p class="src"><a name="v:free" class="def">free</a> ::  <a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> () <a href="src/Foreign-CUDA-Driver-Marshal.html#free" class="link">Source</a></p><div class="doc"><p>Release a section of device memory.</p><p><a href="http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1g89b3f154e17cc89b6eea277dbdf5c93a">http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1g89b3f154e17cc89b6eea277dbdf5c93a</a></p></div></div><h1 id="g:3">Unified Memory Allocation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:AttachFlag" class="def">AttachFlag</a> <a href="src/Foreign-CUDA-Driver-Marshal.html#AttachFlag" class="link">Source</a></p><div class="doc"><p>Options for unified memory allocations</p></div></div><div class="top"><p class="src"><a name="v:mallocManagedArray" class="def">mallocManagedArray</a> :: <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a =&gt; [<a href="Foreign-CUDA-Driver-Marshal.html#t:AttachFlag">AttachFlag</a>] -&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> (<a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a) <a href="src/Foreign-CUDA-Driver-Marshal.html#mallocManagedArray" class="link">Source</a></p><div class="doc"><p>Allocates memory that will be automatically managed by the Unified Memory
 system. The returned pointer is valid on the CPU and on all GPUs which
 supported managed memory. All accesses to this pointer must obey the
 Unified Memory programming model.</p><p>On a multi-GPU system with peer-to-peer support, where multiple GPUs
 support managed memory, the physical storage is created on the GPU which
 is active at the time <code><a href="Foreign-CUDA-Driver-Marshal.html#v:mallocManagedArray">mallocManagedArray</a></code> is called. All other GPUs
 will access the array at reduced bandwidth via peer mapping over the
 PCIe bus. The Unified Memory system does not migrate memory between
 GPUs.</p><p>On a multi-GPU system where multiple GPUs support managed memory, but
 not all pairs of such GPUs have peer-to-peer support between them, the
 physical storage is allocated in system memory (zero-copy memory) and
 all GPUs will access the data at reduced bandwidth over the PCIe bus.</p><p>Requires CUDA-6.0</p><p><a href="http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1gb347ded34dc326af404aa02af5388a32">http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1gb347ded34dc326af404aa02af5388a32</a></p></div></div><h1 id="g:4">Marshalling</h1><div class="top"><p class="src"><a name="v:peekArray" class="def">peekArray</a> :: <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a =&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a -&gt; <a href="../base-4.7.0.2/Foreign-Ptr.html#t:Ptr">Ptr</a> a -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> () <a href="src/Foreign-CUDA-Driver-Marshal.html#peekArray" class="link">Source</a></p><div class="doc"><p>Copy a number of elements from the device to host memory. This is a
 synchronous operation.</p><p><a href="http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1g3480368ee0208a98f75019c9a8450893">http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1g3480368ee0208a98f75019c9a8450893</a></p></div></div><div class="top"><p class="src"><a name="v:peekArrayAsync" class="def">peekArrayAsync</a> :: <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a =&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a -&gt; <a href="Foreign-CUDA-Types.html#t:HostPtr">HostPtr</a> a -&gt; <a href="../base-4.7.0.2/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Foreign-CUDA-Types.html#t:Stream">Stream</a> -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> () <a href="src/Foreign-CUDA-Driver-Marshal.html#peekArrayAsync" class="link">Source</a></p><div class="doc"><p>Copy memory from the device asynchronously, possibly associated with a
 particular stream. The destination host memory must be page-locked.</p><p><a href="http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1g56f30236c7c5247f8e061b59d3268362">http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1g56f30236c7c5247f8e061b59d3268362</a></p></div></div><div class="top"><p class="src"><a name="v:peekArray2D" class="def">peekArray2D</a> <a href="src/Foreign-CUDA-Driver-Marshal.html#peekArray2D" class="link">Source</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>width to copy (elements)</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>height to copy (elements)</p></td></tr><tr><td class="src">-&gt; <a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a</td><td class="doc"><p>source array</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>source array width</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>source x-coordinate</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>source y-coordinate</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.7.0.2/Foreign-Ptr.html#t:Ptr">Ptr</a> a</td><td class="doc"><p>destination array</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>destination array width</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>destination x-coordinate</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>destination y-coordinate</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Copy a 2D array from the device to the host.</p><p><a href="http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1g27f885b30c34cc20a663a671dbf6fc27">http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1g27f885b30c34cc20a663a671dbf6fc27</a></p></div></div><div class="top"><p class="src"><a name="v:peekArray2DAsync" class="def">peekArray2DAsync</a> <a href="src/Foreign-CUDA-Driver-Marshal.html#peekArray2DAsync" class="link">Source</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>width to copy (elements)</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>height to copy (elements)</p></td></tr><tr><td class="src">-&gt; <a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a</td><td class="doc"><p>source array</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>source array width</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>source x-coordinate</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>source y-coordinate</p></td></tr><tr><td class="src">-&gt; <a href="Foreign-CUDA-Types.html#t:HostPtr">HostPtr</a> a</td><td class="doc"><p>destination array</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>destination array width</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>destination x-coordinate</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>destination y-coordinate</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.7.0.2/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Foreign-CUDA-Types.html#t:Stream">Stream</a></td><td class="doc"><p>stream to associate to</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Copy a 2D array from the device to the host asynchronously, possibly
 associated with a particular execution stream. The destination host memory
 must be page-locked.</p><p><a href="http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1g4acf155faeb969d9d21f5433d3d0f274">http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1g4acf155faeb969d9d21f5433d3d0f274</a></p></div></div><div class="top"><p class="src"><a name="v:peekListArray" class="def">peekListArray</a> :: <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a =&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> [a] <a href="src/Foreign-CUDA-Driver-Marshal.html#peekListArray" class="link">Source</a></p><div class="doc"><p>Copy a number of elements from the device into a new Haskell list. Note that
 this requires two memory copies: firstly from the device into a heap
 allocated array, and from there marshalled into a list.</p></div></div><div class="top"><p class="src"><a name="v:pokeArray" class="def">pokeArray</a> :: <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a =&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.7.0.2/Foreign-Ptr.html#t:Ptr">Ptr</a> a -&gt; <a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> () <a href="src/Foreign-CUDA-Driver-Marshal.html#pokeArray" class="link">Source</a></p><div class="doc"><p>Copy a number of elements onto the device. This is a synchronous operation.</p><p><a href="http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1g4d32266788c440b0220b1a9ba5795169">http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1g4d32266788c440b0220b1a9ba5795169</a></p></div></div><div class="top"><p class="src"><a name="v:pokeArrayAsync" class="def">pokeArrayAsync</a> :: <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a =&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="Foreign-CUDA-Types.html#t:HostPtr">HostPtr</a> a -&gt; <a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a -&gt; <a href="../base-4.7.0.2/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Foreign-CUDA-Types.html#t:Stream">Stream</a> -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> () <a href="src/Foreign-CUDA-Driver-Marshal.html#pokeArrayAsync" class="link">Source</a></p><div class="doc"><p>Copy memory onto the device asynchronously, possibly associated with a
 particular stream. The source host memory must be page-locked.</p><p><a href="http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1g1572263fe2597d7ba4f6964597a354a3">http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1g1572263fe2597d7ba4f6964597a354a3</a></p></div></div><div class="top"><p class="src"><a name="v:pokeArray2D" class="def">pokeArray2D</a> <a href="src/Foreign-CUDA-Driver-Marshal.html#pokeArray2D" class="link">Source</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>width to copy (elements)</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>height to copy (elements)</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.7.0.2/Foreign-Ptr.html#t:Ptr">Ptr</a> a</td><td class="doc"><p>source array</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>source array width</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>source x-coordinate</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>source y-coordinate</p></td></tr><tr><td class="src">-&gt; <a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a</td><td class="doc"><p>destination array</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>destination array width</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>destination x-coordinate</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>destination y-coordinate</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Copy a 2D array from the host to the device.</p><p><a href="http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1g27f885b30c34cc20a663a671dbf6fc27">http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1g27f885b30c34cc20a663a671dbf6fc27</a></p></div></div><div class="top"><p class="src"><a name="v:pokeArray2DAsync" class="def">pokeArray2DAsync</a> <a href="src/Foreign-CUDA-Driver-Marshal.html#pokeArray2DAsync" class="link">Source</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>width to copy (elements)</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>height to copy (elements)</p></td></tr><tr><td class="src">-&gt; <a href="Foreign-CUDA-Types.html#t:HostPtr">HostPtr</a> a</td><td class="doc"><p>source array</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>source array width</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>source x-coordinate</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>source y-coordinate</p></td></tr><tr><td class="src">-&gt; <a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a</td><td class="doc"><p>destination array</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>destination array width</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>destination x-coordinate</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>destination y-coordinate</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.7.0.2/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Foreign-CUDA-Types.html#t:Stream">Stream</a></td><td class="doc"><p>stream to associate to</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Copy a 2D array from the host to the device asynchronously, possibly
 associated with a particular execution stream. The source host memory must be
 page-locked.</p><p><a href="http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1g4acf155faeb969d9d21f5433d3d0f274">http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1g4acf155faeb969d9d21f5433d3d0f274</a></p></div></div><div class="top"><p class="src"><a name="v:pokeListArray" class="def">pokeListArray</a> :: <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a =&gt; [a] -&gt; <a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> () <a href="src/Foreign-CUDA-Driver-Marshal.html#pokeListArray" class="link">Source</a></p><div class="doc"><p>Write a list of storable elements into a device array. The device array must
 be sufficiently large to hold the entire list. This requires two marshalling
 operations.</p></div></div><div class="top"><p class="src"><a name="v:copyArray" class="def">copyArray</a> :: <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a =&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a -&gt; <a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> () <a href="src/Foreign-CUDA-Driver-Marshal.html#copyArray" class="link">Source</a></p><div class="doc"><p>Copy the given number of elements from the first device array (source) to the
 second device (destination). The copied areas may not overlap. This operation
 is asynchronous with respect to the host, but will never overlap with kernel
 execution.</p><p><a href="http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1g1725774abf8b51b91945f3336b778c8b">http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1g1725774abf8b51b91945f3336b778c8b</a></p></div></div><div class="top"><p class="src"><a name="v:copyArrayAsync" class="def">copyArrayAsync</a> :: <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a =&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a -&gt; <a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a -&gt; <a href="../base-4.7.0.2/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Foreign-CUDA-Types.html#t:Stream">Stream</a> -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> () <a href="src/Foreign-CUDA-Driver-Marshal.html#copyArrayAsync" class="link">Source</a></p><div class="doc"><p>Copy the given number of elements from the first device array (source) to the
 second device array (destination). The copied areas may not overlap. The
 operation is asynchronous with respect to the host, and can be asynchronous
 to other device operations by associating it with a particular stream.</p><p><a href="http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1g39ea09ba682b8eccc9c3e0c04319b5c8">http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1g39ea09ba682b8eccc9c3e0c04319b5c8</a></p></div></div><div class="top"><p class="src"><a name="v:copyArray2D" class="def">copyArray2D</a> <a href="src/Foreign-CUDA-Driver-Marshal.html#copyArray2D" class="link">Source</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>width to copy (elements)</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>height to copy (elements)</p></td></tr><tr><td class="src">-&gt; <a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a</td><td class="doc"><p>source array</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>source array width</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>source x-coordinate</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>source y-coordinate</p></td></tr><tr><td class="src">-&gt; <a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a</td><td class="doc"><p>destination array</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>destination array width</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>destination x-coordinate</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>destination y-coordinate</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Copy a 2D array from the first device array (source) to the second device
 array (destination). The copied areas must not overlap. This operation is
 asynchronous with respect to the host, but will never overlap with kernel
 execution.</p><p><a href="http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1g27f885b30c34cc20a663a671dbf6fc27">http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1g27f885b30c34cc20a663a671dbf6fc27</a></p></div></div><div class="top"><p class="src"><a name="v:copyArray2DAsync" class="def">copyArray2DAsync</a> <a href="src/Foreign-CUDA-Driver-Marshal.html#copyArray2DAsync" class="link">Source</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>width to copy (elements)</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>height to copy (elements)</p></td></tr><tr><td class="src">-&gt; <a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a</td><td class="doc"><p>source array</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>source array width</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>source x-coordinate</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>source y-coordinate</p></td></tr><tr><td class="src">-&gt; <a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a</td><td class="doc"><p>destination array</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>destination array width</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>destination x-coordinate</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>destination y-coordinate</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.7.0.2/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Foreign-CUDA-Types.html#t:Stream">Stream</a></td><td class="doc"><p>stream to associate to</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Copy a 2D array from the first device array (source) to the second device
 array (destination). The copied areas may not overlap. The operation is
 asynchronous with respect to the host, and can be asynchronous to other
 device operations by associating it with a particular execution stream.</p><p><a href="http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1g4acf155faeb969d9d21f5433d3d0f274">http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1g4acf155faeb969d9d21f5433d3d0f274</a></p></div></div><div class="top"><p class="src"><a name="v:copyArrayPeer" class="def">copyArrayPeer</a> <a href="src/Foreign-CUDA-Driver-Marshal.html#copyArrayPeer" class="link">Source</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>number of array elements</p></td></tr><tr><td class="src">-&gt; <a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Foreign-CUDA-Driver-Context-Base.html#t:Context">Context</a></td><td class="doc"><p>source array and context</p></td></tr><tr><td class="src">-&gt; <a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Foreign-CUDA-Driver-Context-Base.html#t:Context">Context</a></td><td class="doc"><p>destination array and context</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Copies an array from device memory in one context to device memory in another
 context. Note that this function is asynchronous with respect to the host,
 but serialised with respect to all pending and future asynchronous work in
 the source and destination contexts. To avoid this synchronisation, use
 <code><a href="Foreign-CUDA-Driver-Marshal.html#v:copyArrayPeerAsync">copyArrayPeerAsync</a></code> instead.</p><p>Requires CUDA-4.0.</p><p><a href="http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1ge1f5c7771544fee150ada8853c7cbf4a">http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1ge1f5c7771544fee150ada8853c7cbf4a</a></p></div></div><div class="top"><p class="src"><a name="v:copyArrayPeerAsync" class="def">copyArrayPeerAsync</a> <a href="src/Foreign-CUDA-Driver-Marshal.html#copyArrayPeerAsync" class="link">Source</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>number of array elements</p></td></tr><tr><td class="src">-&gt; <a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Foreign-CUDA-Driver-Context-Base.html#t:Context">Context</a></td><td class="doc"><p>source array and context</p></td></tr><tr><td class="src">-&gt; <a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Foreign-CUDA-Driver-Context-Base.html#t:Context">Context</a></td><td class="doc"><p>destination array and device context</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.7.0.2/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Foreign-CUDA-Types.html#t:Stream">Stream</a></td><td class="doc"><p>stream to associate with</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Copies from device memory in one context to device memory in another context.
 Note that this function is asynchronous with respect to the host and all work
 in other streams and devices.</p><p>Requires CUDA-4.0.</p><p><a href="http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1g82fcecb38018e64b98616a8ac30112f2">http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1g82fcecb38018e64b98616a8ac30112f2</a></p></div></div><h1 id="g:5">Combined Allocation and Marshalling</h1><div class="top"><p class="src"><a name="v:newListArray" class="def">newListArray</a> :: <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a =&gt; [a] -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> (<a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a) <a href="src/Foreign-CUDA-Driver-Marshal.html#newListArray" class="link">Source</a></p><div class="doc"><p>Write a list of storable elements into a newly allocated device array. This
 is <code><a href="Foreign-CUDA-Driver-Marshal.html#v:newListArrayLen">newListArrayLen</a></code> composed with <code><a href="../base-4.7.0.2/Data-Tuple.html#v:fst">fst</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:newListArrayLen" class="def">newListArrayLen</a> :: <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a =&gt; [a] -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> (<a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a, <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a>) <a href="src/Foreign-CUDA-Driver-Marshal.html#newListArrayLen" class="link">Source</a></p><div class="doc"><p>Write a list of storable elements into a newly allocated device array,
 returning the device pointer together with the number of elements that were
 written. Note that this requires two memory copies: firstly from a Haskell
 list to a heap allocated array, and from there onto the graphics device. The
 memory should be <code><a href="Foreign-CUDA-Driver-Marshal.html#v:free">free</a></code>d when no longer required.</p></div></div><div class="top"><p class="src"><a name="v:withListArray" class="def">withListArray</a> :: <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a =&gt; [a] -&gt; (<a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> b) -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> b <a href="src/Foreign-CUDA-Driver-Marshal.html#withListArray" class="link">Source</a></p><div class="doc"><p>Temporarily store a list of elements into a newly allocated device array. An
 IO action is applied to to the array, the result of which is returned.
 Similar to <code><a href="Foreign-CUDA-Driver-Marshal.html#v:newListArray">newListArray</a></code>, this requires copying the data twice.</p><p>As with <code><a href="Foreign-CUDA-Driver-Marshal.html#v:allocaArray">allocaArray</a></code>, the memory is freed once the action completes, so you
 should not return the pointer from the action, and be wary of asynchronous
 kernel execution.</p></div></div><div class="top"><p class="src"><a name="v:withListArrayLen" class="def">withListArrayLen</a> :: <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a =&gt; [a] -&gt; (<a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; <a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> b) -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> b <a href="src/Foreign-CUDA-Driver-Marshal.html#withListArrayLen" class="link">Source</a></p><div class="doc"><p>A variant of <code><a href="Foreign-CUDA-Driver-Marshal.html#v:withListArray">withListArray</a></code> which also supplies the number of elements in
 the array to the applied function</p></div></div><h1 id="g:6">Utility</h1><div class="top"><p class="src"><a name="v:memset" class="def">memset</a> :: <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a =&gt; <a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a -&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; a -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> () <a href="src/Foreign-CUDA-Driver-Marshal.html#memset" class="link">Source</a></p><div class="doc"><p>Set a number of data elements to the specified value, which may be either 8-,
 16-, or 32-bits wide.</p><p><a href="http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1g6e582bf866e9e2fb014297bfaf354d7b">http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1g6e582bf866e9e2fb014297bfaf354d7b</a></p><p><a href="http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1g7d805e610054392a4d11e8a8bf5eb35c">http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1g7d805e610054392a4d11e8a8bf5eb35c</a></p><p><a href="http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1g983e8d8759acd1b64326317481fbf132">http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1g983e8d8759acd1b64326317481fbf132</a></p></div></div><div class="top"><p class="src"><a name="v:memsetAsync" class="def">memsetAsync</a> :: <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a =&gt; <a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a -&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; a -&gt; <a href="../base-4.7.0.2/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Foreign-CUDA-Types.html#t:Stream">Stream</a> -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> () <a href="src/Foreign-CUDA-Driver-Marshal.html#memsetAsync" class="link">Source</a></p><div class="doc"><p>Set the number of data elements to the specified value, which may be either
 8-, 16-, or 32-bits wide. The operation is asynchronous and may optionally be
 associated with a stream.</p><p>Requires CUDA-3.2.</p><p><a href="http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1gaef08a7ccd61112f94e82f2b30d43627">http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1gaef08a7ccd61112f94e82f2b30d43627</a></p><p><a href="http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1gf731438877dd8ec875e4c43d848c878c">http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1gf731438877dd8ec875e4c43d848c878c</a></p><p><a href="http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1g58229da5d30f1c0cdf667b320ec2c0f5">http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1g58229da5d30f1c0cdf667b320ec2c0f5</a></p></div></div><div class="top"><p class="src"><a name="v:getDevicePtr" class="def">getDevicePtr</a> ::  [<a href="Foreign-CUDA-Driver-Marshal.html#t:AllocFlag">AllocFlag</a>] -&gt; <a href="Foreign-CUDA-Types.html#t:HostPtr">HostPtr</a> a -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> (<a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a) <a href="src/Foreign-CUDA-Driver-Marshal.html#getDevicePtr" class="link">Source</a></p><div class="doc"><p>Return the device pointer associated with a mapped, pinned host buffer, which
 was allocated with the <code><a href="Foreign-CUDA-Driver-Marshal.html#v:DeviceMapped">DeviceMapped</a></code> option by <code><a href="Foreign-CUDA-Driver-Marshal.html#v:mallocHostArray">mallocHostArray</a></code>.</p><p>Currently, no options are supported and this must be empty.</p><p><a href="http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1g57a39e5cba26af4d06be67fc77cc62f0">http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1g57a39e5cba26af4d06be67fc77cc62f0</a></p></div></div><div class="top"><p class="src"><a name="v:getBasePtr" class="def">getBasePtr</a> ::  <a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> (<a href="Foreign-CUDA-Types.html#t:DevicePtr">DevicePtr</a> a, <a href="../base-4.7.0.2/Data-Int.html#t:Int64">Int64</a>) <a href="src/Foreign-CUDA-Driver-Marshal.html#getBasePtr" class="link">Source</a></p><div class="doc"><p>Return the base address and allocation size of the given device pointer.</p><p><a href="http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1g64fee5711274a2a0573a789c94d8299b">http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1g64fee5711274a2a0573a789c94d8299b</a></p></div></div><div class="top"><p class="src"><a name="v:getMemInfo" class="def">getMemInfo</a> :: <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> (<a href="../base-4.7.0.2/Data-Int.html#t:Int64">Int64</a>, <a href="../base-4.7.0.2/Data-Int.html#t:Int64">Int64</a>) <a href="src/Foreign-CUDA-Driver-Marshal.html#getMemInfo" class="link">Source</a></p><div class="doc"><p>Return the amount of free and total memory respectively available to the
 current context (bytes).</p><p><a href="http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1g808f555540d0143a331cc42aa98835c0">http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__MEM.html#group__CUDA__MEM_1g808f555540d0143a331cc42aa98835c0</a></p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.14.3</p></div></body></html>