<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Foreign.CUDA.Driver.Context.Base</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Foreign-CUDA-Driver-Context-Base.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Foreign-CUDA-Driver-Context-Base.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">cuda-0.7.1.0: FFI binding to the CUDA interface for programming NVIDIA GPUs</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Copyright</th><td>[2009..2015] Trevor L. McDonell</td></tr><tr><th>License</th><td>BSD</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell98</td></tr></table><p class="caption">Foreign.CUDA.Driver.Context.Base</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Context Management</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Context management for the low-level driver interface</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">newtype</span> <a href="#t:Context">Context</a> = <a href="#v:Context">Context</a> {<ul class="subs"><li><a href="#v:useContext">useContext</a> :: <a href="../base-4.7.0.2/Foreign-Ptr.html#t:Ptr">Ptr</a> ()</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:ContextFlag">ContextFlag</a><ul class="subs"><li>= <a href="#v:SchedAuto">SchedAuto</a></li><li>| <a href="#v:SchedSpin">SchedSpin</a></li><li>| <a href="#v:SchedYield">SchedYield</a></li><li>| <a href="#v:SchedBlockingSync">SchedBlockingSync</a></li><li>| <a href="#v:BlockingSync">BlockingSync</a></li><li>| <a href="#v:SchedMask">SchedMask</a></li><li>| <a href="#v:MapHost">MapHost</a></li><li>| <a href="#v:LmemResizeToMax">LmemResizeToMax</a></li><li>| <a href="#v:FlagsMask">FlagsMask</a></li></ul></li><li class="src short"><a href="#v:create">create</a> :: <a href="Foreign-CUDA-Driver-Device.html#t:Device">Device</a> -&gt; [<a href="Foreign-CUDA-Driver-Context-Base.html#t:ContextFlag">ContextFlag</a>] -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> <a href="Foreign-CUDA-Driver-Context-Base.html#t:Context">Context</a></li><li class="src short"><a href="#v:destroy">destroy</a> :: <a href="Foreign-CUDA-Driver-Context-Base.html#t:Context">Context</a> -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:device">device</a> :: <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> <a href="Foreign-CUDA-Driver-Device.html#t:Device">Device</a></li><li class="src short"><a href="#v:pop">pop</a> :: <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> <a href="Foreign-CUDA-Driver-Context-Base.html#t:Context">Context</a></li><li class="src short"><a href="#v:push">push</a> :: <a href="Foreign-CUDA-Driver-Context-Base.html#t:Context">Context</a> -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:sync">sync</a> :: <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:get">get</a> :: <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> (<a href="../base-4.7.0.2/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Foreign-CUDA-Driver-Context-Base.html#t:Context">Context</a>)</li><li class="src short"><a href="#v:set">set</a> :: <a href="Foreign-CUDA-Driver-Context-Base.html#t:Context">Context</a> -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:attach">attach</a> :: <a href="Foreign-CUDA-Driver-Context-Base.html#t:Context">Context</a> -&gt; [<a href="Foreign-CUDA-Driver-Context-Base.html#t:ContextFlag">ContextFlag</a>] -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:detach">detach</a> :: <a href="Foreign-CUDA-Driver-Context-Base.html#t:Context">Context</a> -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> ()</li></ul></div><div id="interface"><h1 id="g:1">Context Management</h1><div class="top"><p class="src"><span class="keyword">newtype</span> <a name="t:Context" class="def">Context</a> <a href="src/Foreign-CUDA-Driver-Context-Base.html#Context" class="link">Source</a></p><div class="doc"><p>A device context</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Context" class="def">Context</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:useContext" class="def">useContext</a> :: <a href="../base-4.7.0.2/Foreign-Ptr.html#t:Ptr">Ptr</a> ()</dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:Context" class="caption collapser" onclick="toggleSection('i:Context')">Instances</p><div id="section.i:Context" class="show"><table><tr><td class="src"><a href="../base-4.7.0.2/Data-Eq.html#t:Eq">Eq</a> <a href="Foreign-CUDA-Driver-Context-Base.html#t:Context">Context</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="../base-4.7.0.2/Text-Show.html#t:Show">Show</a> <a href="Foreign-CUDA-Driver-Context-Base.html#t:Context">Context</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:ContextFlag" class="def">ContextFlag</a> <a href="src/Foreign-CUDA-Driver-Context-Base.html#ContextFlag" class="link">Source</a></p><div class="doc"><p>Context creation flags</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:SchedAuto" class="def">SchedAuto</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:SchedSpin" class="def">SchedSpin</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:SchedYield" class="def">SchedYield</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:SchedBlockingSync" class="def">SchedBlockingSync</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:BlockingSync" class="def">BlockingSync</a></td><td class="doc"><div class="warning"><p>Deprecated: use SchedBlockingSync instead</p></div></td></tr><tr><td class="src"><a name="v:SchedMask" class="def">SchedMask</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:MapHost" class="def">MapHost</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:LmemResizeToMax" class="def">LmemResizeToMax</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:FlagsMask" class="def">FlagsMask</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:ContextFlag" class="caption collapser" onclick="toggleSection('i:ContextFlag')">Instances</p><div id="section.i:ContextFlag" class="show"><table><tr><td class="src"><a href="../base-4.7.0.2/Prelude.html#t:Bounded">Bounded</a> <a href="Foreign-CUDA-Driver-Context-Base.html#t:ContextFlag">ContextFlag</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="../base-4.7.0.2/Prelude.html#t:Enum">Enum</a> <a href="Foreign-CUDA-Driver-Context-Base.html#t:ContextFlag">ContextFlag</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="../base-4.7.0.2/Data-Eq.html#t:Eq">Eq</a> <a href="Foreign-CUDA-Driver-Context-Base.html#t:ContextFlag">ContextFlag</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="../base-4.7.0.2/Text-Show.html#t:Show">Show</a> <a href="Foreign-CUDA-Driver-Context-Base.html#t:ContextFlag">ContextFlag</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:create" class="def">create</a> :: <a href="Foreign-CUDA-Driver-Device.html#t:Device">Device</a> -&gt; [<a href="Foreign-CUDA-Driver-Context-Base.html#t:ContextFlag">ContextFlag</a>] -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> <a href="Foreign-CUDA-Driver-Context-Base.html#t:Context">Context</a> <a href="src/Foreign-CUDA-Driver-Context-Base.html#create" class="link">Source</a></p><div class="doc"><p>Create a new CUDA context and associate it with the calling thread. The
 context is created with a usage count of one, and the caller of <code><a href="Foreign-CUDA-Driver-Context-Base.html#v:create">create</a></code>
 must call <code><a href="Foreign-CUDA-Driver-Context-Base.html#v:destroy">destroy</a></code> when done using the context. If a context is already
 current to the thread, it is supplanted by the newly created context and
 must be restored by a subsequent call to <code><a href="Foreign-CUDA-Driver-Context-Base.html#v:pop">pop</a></code>.</p><p><a href="http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__CTX.html#group__CUDA__CTX_1g65dc0012348bc84810e2103a40d8e2cf">http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__CTX.html#group__CUDA__CTX_1g65dc0012348bc84810e2103a40d8e2cf</a></p></div></div><div class="top"><p class="src"><a name="v:destroy" class="def">destroy</a> :: <a href="Foreign-CUDA-Driver-Context-Base.html#t:Context">Context</a> -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> () <a href="src/Foreign-CUDA-Driver-Context-Base.html#destroy" class="link">Source</a></p><div class="doc"><p>Destroy the specified context, regardless of how many threads it is
 current to. The context will be <code><a href="Foreign-CUDA-Driver-Context-Base.html#v:pop">pop</a></code>ed from the current thread's
 context stack, but if it is current on any other threads it will remain
 current to those threads, and attempts to access it will result in an
 error.</p><p><a href="http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__CTX.html#group__CUDA__CTX_1g27a365aebb0eb548166309f58a1e8b8e">http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__CTX.html#group__CUDA__CTX_1g27a365aebb0eb548166309f58a1e8b8e</a></p></div></div><div class="top"><p class="src"><a name="v:device" class="def">device</a> :: <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> <a href="Foreign-CUDA-Driver-Device.html#t:Device">Device</a> <a href="src/Foreign-CUDA-Driver-Context-Base.html#device" class="link">Source</a></p><div class="doc"><p>Return the device of the currently active context</p><p><a href="http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__CTX.html#group__CUDA__CTX_1g4e84b109eba36cdaaade167f34ae881e">http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__CTX.html#group__CUDA__CTX_1g4e84b109eba36cdaaade167f34ae881e</a></p></div></div><div class="top"><p class="src"><a name="v:pop" class="def">pop</a> :: <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> <a href="Foreign-CUDA-Driver-Context-Base.html#t:Context">Context</a> <a href="src/Foreign-CUDA-Driver-Context-Base.html#pop" class="link">Source</a></p><div class="doc"><p>Pop the current CUDA context from the CPU thread. The context may then
 be attached to a different CPU thread by calling <code><a href="Foreign-CUDA-Driver-Context-Base.html#v:push">push</a></code>.</p><p><a href="http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__CTX.html#group__CUDA__CTX_1g2fac188026a062d92e91a8687d0a7902">http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__CTX.html#group__CUDA__CTX_1g2fac188026a062d92e91a8687d0a7902</a></p></div></div><div class="top"><p class="src"><a name="v:push" class="def">push</a> :: <a href="Foreign-CUDA-Driver-Context-Base.html#t:Context">Context</a> -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> () <a href="src/Foreign-CUDA-Driver-Context-Base.html#push" class="link">Source</a></p><div class="doc"><p>Push the given context onto the CPU's thread stack of current contexts.
 The specified context becomes the CPU thread's current context, so all
 operations that operate on the current context are affected.</p><p><a href="http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__CTX.html#group__CUDA__CTX_1gb02d4c850eb16f861fe5a29682cc90ba">http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__CTX.html#group__CUDA__CTX_1gb02d4c850eb16f861fe5a29682cc90ba</a></p></div></div><div class="top"><p class="src"><a name="v:sync" class="def">sync</a> :: <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> () <a href="src/Foreign-CUDA-Driver-Context-Base.html#sync" class="link">Source</a></p><div class="doc"><p>Block until the device has completed all preceding requests. If the
 context was created with the <code><a href="Foreign-CUDA-Driver-Context-Base.html#v:SchedBlockingSync">SchedBlockingSync</a></code> flag, the CPU thread
 will block until the GPU has finished its work.</p><p><a href="http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__CTX.html#group__CUDA__CTX_1g7a54725f28d34b8c6299f0c6ca579616">http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__CTX.html#group__CUDA__CTX_1g7a54725f28d34b8c6299f0c6ca579616</a></p></div></div><div class="top"><p class="src"><a name="v:get" class="def">get</a> :: <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> (<a href="../base-4.7.0.2/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Foreign-CUDA-Driver-Context-Base.html#t:Context">Context</a>) <a href="src/Foreign-CUDA-Driver-Context-Base.html#get" class="link">Source</a></p><div class="doc"><p>Return the context bound to the calling CPU thread.</p><p>Requires CUDA-4.0.</p><p><a href="http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__CTX.html#group__CUDA__CTX_1g8f13165846b73750693640fb3e8380d0">http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__CTX.html#group__CUDA__CTX_1g8f13165846b73750693640fb3e8380d0</a></p></div></div><div class="top"><p class="src"><a name="v:set" class="def">set</a> :: <a href="Foreign-CUDA-Driver-Context-Base.html#t:Context">Context</a> -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> () <a href="src/Foreign-CUDA-Driver-Context-Base.html#set" class="link">Source</a></p><div class="doc"><p>Bind the specified context to the calling thread.</p><p>Requires CUDA-4.0.</p><p><a href="http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__CTX.html#group__CUDA__CTX_1gbe562ee6258b4fcc272ca6478ca2a2f7">http://docs.nvidia.com/cuda/cuda-driver-api/group__CUDA__CTX.html#group__CUDA__CTX_1gbe562ee6258b4fcc272ca6478ca2a2f7</a></p></div></div><div class="top"><p class="src"><a name="v:attach" class="def">attach</a> :: <a href="Foreign-CUDA-Driver-Context-Base.html#t:Context">Context</a> -&gt; [<a href="Foreign-CUDA-Driver-Context-Base.html#t:ContextFlag">ContextFlag</a>] -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> () <a href="src/Foreign-CUDA-Driver-Context-Base.html#attach" class="link">Source</a></p><div class="doc"><div class="warning"><p>Deprecated: as of CUDA-4.0</p></div><p>Increments the usage count of the context. API: no context flags are
 currently supported, so this parameter must be empty.</p></div></div><div class="top"><p class="src"><a name="v:detach" class="def">detach</a> :: <a href="Foreign-CUDA-Driver-Context-Base.html#t:Context">Context</a> -&gt; <a href="../base-4.7.0.2/System-IO.html#t:IO">IO</a> () <a href="src/Foreign-CUDA-Driver-Context-Base.html#detach" class="link">Source</a></p><div class="doc"><div class="warning"><p>Deprecated: as of CUDA-4.0</p></div><p>Detach the context, and destroy if no longer used</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.14.3</p></div></body></html>